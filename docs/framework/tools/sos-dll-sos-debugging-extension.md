---
title: SOS.dll (SOS デバッガー拡張)
description: SOS.dll (SOS デバッグ拡張機能) を使用します。 Visual Studio と WinDbg.exe で、内部 CLR 環境に関する情報を取得することで、マネージド プログラムをデバッグします。
ms.date: 03/30/2017
helpviewer_keywords:
- debugging extensions
- SOS debugging extensions
- SOS.dll
ms.assetid: 9ac1b522-77ab-4cdc-852a-20fcdc9ae498
ms.openlocfilehash: 33f75003e18abce95778ddea8e3163211e3bfa5c
ms.sourcegitcommit: 1dbe25ff484a02025d5c34146e517c236f7161fb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/19/2021
ms.locfileid: "104653635"
---
# <a name="sosdll-sos-debugging-extension"></a><span data-ttu-id="e208b-104">SOS.dll (SOS デバッガー拡張)</span><span class="sxs-lookup"><span data-stu-id="e208b-104">SOS.dll (SOS debugging extension)</span></span>

<span data-ttu-id="e208b-105">SOS デバッガー拡張 (SOS.dll) を使用して内部の共通言語ランタイム (CLR: Common Language Runtime) 環境に関する情報を渡すことにより、Visual Studio および Windows デバッガー (WinDbg.exe) でマネージド プログラムをデバッグできます。</span><span class="sxs-lookup"><span data-stu-id="e208b-105">The SOS Debugging Extension (SOS.dll) helps you debug managed programs in Visual Studio and in the Windows debugger (WinDbg.exe) by providing information about the internal Common Language Runtime (CLR) environment.</span></span> <span data-ttu-id="e208b-106">このツールを使用するには、プロジェクトでアンマネージ デバッグが有効になっている必要があります。</span><span class="sxs-lookup"><span data-stu-id="e208b-106">This tool requires your project to have unmanaged debugging enabled.</span></span> <span data-ttu-id="e208b-107">SOS.dll は、.NET Framework と共に自動的にインストールされます。</span><span class="sxs-lookup"><span data-stu-id="e208b-107">SOS.dll is automatically installed with .NET Framework.</span></span> <span data-ttu-id="e208b-108">Visual Studio で SOS.dll を使用するには、[Windows ドライバー開発キット (WDK)](/windows-hardware/drivers/download-the-wdk) をインストールします。</span><span class="sxs-lookup"><span data-stu-id="e208b-108">To use SOS.dll in Visual Studio, install the [Windows Driver Kit (WDK)](/windows-hardware/drivers/download-the-wdk).</span></span>

## <a name="syntax"></a><span data-ttu-id="e208b-109">構文</span><span class="sxs-lookup"><span data-stu-id="e208b-109">Syntax</span></span>

```console
![command] [options]
```

## <a name="commands"></a><span data-ttu-id="e208b-110">コマンド</span><span class="sxs-lookup"><span data-stu-id="e208b-110">Commands</span></span>

|<span data-ttu-id="e208b-111">コマンド</span><span class="sxs-lookup"><span data-stu-id="e208b-111">Command</span></span>|<span data-ttu-id="e208b-112">説明</span><span class="sxs-lookup"><span data-stu-id="e208b-112">Description</span></span>|
|-------------|-----------------|
|<span data-ttu-id="e208b-113">**AnalyzeOOM** (**ao**)</span><span class="sxs-lookup"><span data-stu-id="e208b-113">**AnalyzeOOM** (**ao**)</span></span>|<span data-ttu-id="e208b-114">ガベージ コレクション ヒープへの割り当て要求で発生した最後のメモリ不足 (OOM) に対する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-114">Displays the information for the last out of memory (OOM) that occurred on an allocation request to the garbage collection heap.</span></span> <span data-ttu-id="e208b-115">サーバーのガベージ コレクションでは、ガベージ コレクション ヒープごとに OOM を表示します (存在する場合)。</span><span class="sxs-lookup"><span data-stu-id="e208b-115">(In server garbage collection, it displays OOM, if any, on each garbage collection heap.)</span></span>|
|<span data-ttu-id="e208b-116">**BPMD** **[-nofuturemodule]** [\<*module name*> \<*method name*>] [ **-md** <`MethodDesc`>] **-list** **-clear** \<*pending breakpoint number*> **-clearall**</span><span class="sxs-lookup"><span data-stu-id="e208b-116">**BPMD** [**-nofuturemodule**] [\<*module name*> \<*method name*>] [**-md** <`MethodDesc`>] **-list** **-clear** \<*pending breakpoint number*> **-clearall**</span></span>|<span data-ttu-id="e208b-117">指定したモジュールの指定したメソッドにブレークポイントを作成します。</span><span class="sxs-lookup"><span data-stu-id="e208b-117">Creates a breakpoint at the specified method in the specified module.</span></span><br /><br /> <span data-ttu-id="e208b-118">指定したモジュールとメソッドが読み込まれていない場合、このコマンドは、モジュールが読み込まれ、Just-In-Time (JIT) コンパイルが終了したことを示す通知を受け取るまで待機してから、ブレークポイントを作成します。</span><span class="sxs-lookup"><span data-stu-id="e208b-118">If the specified module and method have not been loaded, this command waits for a notification that the module was loaded and just-in-time (JIT) compiled before creating a breakpoint.</span></span><br /><br /> <span data-ttu-id="e208b-119">**-list**、 **-clear**、および **-clearall** の各オプションを使用して、保留中のブレークポイントのリストを管理できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-119">You can manage the list of pending breakpoints by using the **-list**, **-clear**, and **-clearall** options:</span></span><br /><br /> <span data-ttu-id="e208b-120">**-list** オプションは、保留中のすべてのブレークポイントのリストを生成します。</span><span class="sxs-lookup"><span data-stu-id="e208b-120">The **-list** option generates a list of all the pending breakpoints.</span></span> <span data-ttu-id="e208b-121">保留中のブレークポイントにゼロ以外のモジュール ID がある場合、そのブレークポイントはその特定の読み込まれたモジュール内の関数に対するブレークポイントです。</span><span class="sxs-lookup"><span data-stu-id="e208b-121">If a pending breakpoint has a non-zero module ID, that breakpoint is specific to a function in that particular loaded module.</span></span> <span data-ttu-id="e208b-122">保留中のブレークポイントにゼロのモジュール ID がある場合、そのブレークポイントはまだ読み込まれていないモジュールに適用されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-122">If the pending breakpoint has a zero module ID, that breakpoint applies to modules that have not yet been loaded.</span></span><br /><br /> <span data-ttu-id="e208b-123">保留中のブレークポイントをリストから削除するには、 **-clear** オプションまたは **-clearall** オプションを使用します。</span><span class="sxs-lookup"><span data-stu-id="e208b-123">Use the **-clear** or **-clearall** option to remove pending breakpoints from the list.</span></span>|
|<span data-ttu-id="e208b-124">**CLRStack** **[-a]** **[-l]** **[-p]** **[-n]**</span><span class="sxs-lookup"><span data-stu-id="e208b-124">**CLRStack** [**-a**] [**-l**] [**-p**] [**-n**]</span></span>|<span data-ttu-id="e208b-125">マネージド コードのみのスタック トレースを提供します。</span><span class="sxs-lookup"><span data-stu-id="e208b-125">Provides a stack trace of managed code only.</span></span><br /><br /> <span data-ttu-id="e208b-126">**-p** オプションは、マネージド関数に渡す引数を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-126">The **-p** option shows arguments to the managed function.</span></span><br /><br /> <span data-ttu-id="e208b-127">**-l** オプションは、フレーム内のローカル変数に関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-127">The **-l** option shows information on local variables in a frame.</span></span> <span data-ttu-id="e208b-128">SOS デバッグ拡張機能ではローカル名を取得できないため、ローカル名の出力は \<*local address*> **=** \<*value*> の形式になります。</span><span class="sxs-lookup"><span data-stu-id="e208b-128">The SOS Debugging Extension cannot retrieve local names, so the output for local names is in the format \<*local address*> **=** \<*value*>.</span></span><br /><br /> <span data-ttu-id="e208b-129">**-a** (すべて) オプションは、 **-l** と **-p** の組み合わせへのショートカットです。</span><span class="sxs-lookup"><span data-stu-id="e208b-129">The **-a**(all) option is a shortcut for **-l** and **-p** combined.</span></span><br /><br /> <span data-ttu-id="e208b-130">**-n** オプションを指定すると、ソース ファイル名と行番号の表示が無効になります。</span><span class="sxs-lookup"><span data-stu-id="e208b-130">The **-n** option disables the display of source file names and line numbers.</span></span> <span data-ttu-id="e208b-131">デバッガーで SYMOPT_LOAD_LINES オプションが指定されている場合、SOS はすべてのマネージド フレームでシンボルを検索し、成功した場合は、対応するソース ファイル名と行番号を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-131">If the debugger has the option SYMOPT_LOAD_LINES specified, SOS will look up the symbols for every managed frame and if successful will display the corresponding source file name and line number.</span></span> <span data-ttu-id="e208b-132">**-n** (行番号なし) パラメーターを指定すると、この動作を無効にできます。</span><span class="sxs-lookup"><span data-stu-id="e208b-132">The **-n** (No line numbers) parameter can be specified to disable this behavior.</span></span><br /><br /> <span data-ttu-id="e208b-133">x64 ベースおよび IA-64 ベースのプラットフォーム上では、SOS デバッガー拡張で遷移フレームは表示されません。</span><span class="sxs-lookup"><span data-stu-id="e208b-133">The SOS Debugging Extension does not display transition frames on x64 and IA-64-based platforms.</span></span>|
|<span data-ttu-id="e208b-134">**COMState**</span><span class="sxs-lookup"><span data-stu-id="e208b-134">**COMState**</span></span>|<span data-ttu-id="e208b-135">COM アパートメント モデルを使用可能な場合、各スレッドと `Context` ポインターについてモデルを一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-135">Lists the COM apartment model for each thread and a `Context` pointer, if available.</span></span>|
|<span data-ttu-id="e208b-136">**DumpArray** [ **-start** \<*startIndex*>] [ **-length** \<*length*>] **[-details]** **[-nofields]** \<*array object address*></span><span class="sxs-lookup"><span data-stu-id="e208b-136">**DumpArray** [**-start** \<*startIndex*>] [**-length** \<*length*>] [**-details**] [**-nofields**] \<*array object address*></span></span><br /><br /> <span data-ttu-id="e208b-137">\- または -</span><span class="sxs-lookup"><span data-stu-id="e208b-137">-or-</span></span><br /><br /> <span data-ttu-id="e208b-138">**DA** [ **-start** \<*startIndex*>] [ **-length** \<*length*>] **[-detail]** **[-nofields]** *array object address*></span><span class="sxs-lookup"><span data-stu-id="e208b-138">**DA** [**-start** \<*startIndex*>] [**-length** \<*length*>] [**-detail**] [**-nofields**] *array object address*></span></span>|<span data-ttu-id="e208b-139">配列オブジェクトの要素を調べます。</span><span class="sxs-lookup"><span data-stu-id="e208b-139">Examines elements of an array object.</span></span><br /><br /> <span data-ttu-id="e208b-140">**-start** オプションは、要素の表示を始めるインデックス位置を指定します。</span><span class="sxs-lookup"><span data-stu-id="e208b-140">The **-start** option specifies the starting index at which to display elements.</span></span><br /><br /> <span data-ttu-id="e208b-141">**-length** オプションは、表示する要素の数を指定します。</span><span class="sxs-lookup"><span data-stu-id="e208b-141">The **-length** option specifies how many elements to show.</span></span><br /><br /> <span data-ttu-id="e208b-142">**-details** オプションは、**DumpObj** 形式および **DumpVC** 形式を使用して要素の詳細を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-142">The **-details** option displays details of the element using the **DumpObj** and **DumpVC** formats.</span></span><br /><br /> <span data-ttu-id="e208b-143">**-nofields** オプションは、配列が表示されないようにします。</span><span class="sxs-lookup"><span data-stu-id="e208b-143">The **-nofields** option prevents arrays from displaying.</span></span> <span data-ttu-id="e208b-144">**-detail** オプションを指定した場合にのみこのオプションを使用できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-144">This option is available only when the **-detail** option is specified.</span></span>|
|<span data-ttu-id="e208b-145">**DumpAssembly** \<*assembly address*></span><span class="sxs-lookup"><span data-stu-id="e208b-145">**DumpAssembly** \<*assembly address*></span></span>|<span data-ttu-id="e208b-146">アセンブリに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-146">Displays information about an assembly.</span></span><br /><br /> <span data-ttu-id="e208b-147">**DumpAssembly** コマンドは、複数のモジュールが存在する場合はそれらを一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-147">The **DumpAssembly** command lists multiple modules, if they exist.</span></span><br /><br /> <span data-ttu-id="e208b-148">**DumpDomain** コマンドを使用するとアセンブリ アドレスを取得できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-148">You can get an assembly address by using the **DumpDomain** command.</span></span>|
|<span data-ttu-id="e208b-149">**DumpClass** \<*EEClass address*></span><span class="sxs-lookup"><span data-stu-id="e208b-149">**DumpClass** \<*EEClass address*></span></span>|<span data-ttu-id="e208b-150">型に関連付けられている `EEClass` 構造体に関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-150">Displays information about the `EEClass` structure associated with a type.</span></span><br /><br /> <span data-ttu-id="e208b-151">**DumpClass** コマンドを実行すると静的フィールド値は表示されますが、非静的フィールド値は表示されません。</span><span class="sxs-lookup"><span data-stu-id="e208b-151">The **DumpClass** command displays static field values but does not display nonstatic field values.</span></span><br /><br /> <span data-ttu-id="e208b-152">**DumpMT**、**DumpObj**、**Name2EE**、または **Token2EE** コマンドを使用して、`EEClass` 構造体のアドレスを取得します。</span><span class="sxs-lookup"><span data-stu-id="e208b-152">Use the **DumpMT**, **DumpObj**, **Name2EE**, or **Token2EE** command to get an `EEClass` structure address.</span></span>|
|<span data-ttu-id="e208b-153">**DumpDomain** [\<*domain address*>]</span><span class="sxs-lookup"><span data-stu-id="e208b-153">**DumpDomain** [\<*domain address*>]</span></span>|<span data-ttu-id="e208b-154">指定した <xref:System.Reflection.Assembly> オブジェクトのアドレス内に読み込まれている各 <xref:System.AppDomain> オブジェクトを列挙します。</span><span class="sxs-lookup"><span data-stu-id="e208b-154">Enumerates each <xref:System.Reflection.Assembly> object that is loaded within the specified <xref:System.AppDomain> object address.</span></span>  <span data-ttu-id="e208b-155">パラメーターを指定しないで呼び出すと、**DumpDomain** コマンドはプロセス内のすべての <xref:System.AppDomain> オブジェクトを一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-155">When called with no parameters, the **DumpDomain** command lists all <xref:System.AppDomain> objects in a process.</span></span>|
|<span data-ttu-id="e208b-156">**DumpHeap** **[-stat]** **[-strings]** **[-short]** [ **-min** \<*size*>] [ **-max** \<*size*>] **[-thinlock]** **[-startAtLowerBound]** [ **-mt** \<*MethodTable address*>] [ **-type** \<*partial type name*>][*start* [*end*]]</span><span class="sxs-lookup"><span data-stu-id="e208b-156">**DumpHeap** [**-stat**] [**-strings**] [**-short**] [**-min** \<*size*>] [**-max** \<*size*>] [**-thinlock**] [**-startAtLowerBound**] [**-mt** \<*MethodTable address*>] [**-type** \<*partial type name*>][*start* [*end*]]</span></span>|<span data-ttu-id="e208b-157">ガベージ コレクトされたヒープと、オブジェクトの収集統計に関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-157">Displays information about the garbage-collected heap and collection statistics about objects.</span></span><br /><br /> <span data-ttu-id="e208b-158">ガベージ コレクター ヒープが過剰に断片化されていることを **DumpHeap** コマンドが検出すると、警告が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-158">The **DumpHeap** command displays a warning if it detects excessive fragmentation in the garbage collector heap.</span></span><br /><br /> <span data-ttu-id="e208b-159">**-stat** オプションは、統計的な型の概要のみを出力するよう制限を加えます。</span><span class="sxs-lookup"><span data-stu-id="e208b-159">The **-stat** option restricts the output to the statistical type summary.</span></span><br /><br /> <span data-ttu-id="e208b-160">**-strings** オプションは、統計的な文字列値の概要のみを出力するよう制限を加えます。</span><span class="sxs-lookup"><span data-stu-id="e208b-160">The **-strings** option restricts the output to a statistical string value summary.</span></span><br /><br /> <span data-ttu-id="e208b-161">**-short** オプションは、各オブジェクトのアドレスだけに出力を制限します。</span><span class="sxs-lookup"><span data-stu-id="e208b-161">The **-short** option limits output to just the address of each object.</span></span> <span data-ttu-id="e208b-162">これにより、コマンドからの出力を別のデバッガー コマンドに簡単にパイプして、オートメーションを実現できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-162">This lets you easily pipe output from the command to another debugger command for automation.</span></span><br /><br /> <span data-ttu-id="e208b-163">**-min** オプションは、バイト単位で指定された `size` パラメーター未満のオブジェクトを無視します。</span><span class="sxs-lookup"><span data-stu-id="e208b-163">The **-min** option ignores objects that are less than the `size` parameter, specified in bytes.</span></span><br /><br /> <span data-ttu-id="e208b-164">**-max** オプションは、バイト単位で指定された `size` パラメーターを超えるオブジェクトを無視します。</span><span class="sxs-lookup"><span data-stu-id="e208b-164">The **-max** option ignores objects that are larger than the `size` parameter, specified in bytes.</span></span><br /><br /> <span data-ttu-id="e208b-165">**-thinlock** オプションは、ThinLocks を報告します。</span><span class="sxs-lookup"><span data-stu-id="e208b-165">The **-thinlock** option reports ThinLocks.</span></span>  <span data-ttu-id="e208b-166">詳細については、**SyncBlk** コマンドを参照してください。</span><span class="sxs-lookup"><span data-stu-id="e208b-166">For more information, see the **SyncBlk** command.</span></span><br /><br /> <span data-ttu-id="e208b-167">`-startAtLowerBound` オプションは、指定したアドレス範囲の下限からヒープ ウォークを強制的に開始します。</span><span class="sxs-lookup"><span data-stu-id="e208b-167">The `-startAtLowerBound` option forces the heap walk to begin at the lower bound of a supplied address range.</span></span> <span data-ttu-id="e208b-168">計画フェーズの間は、オブジェクトが移動されているのでヒープをウォークできないことがよくあります。</span><span class="sxs-lookup"><span data-stu-id="e208b-168">During the planning phase, the heap is often not walkable because objects are being moved.</span></span> <span data-ttu-id="e208b-169">このオプションを指定すると、**DumpHeap** に指定した下限から強制的にウォークを開始させることができます。</span><span class="sxs-lookup"><span data-stu-id="e208b-169">This option forces **DumpHeap** to begin its walk at the specified lower bound.</span></span> <span data-ttu-id="e208b-170">このオプションが機能するには、有効なオブジェクトのアドレスを下限として指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e208b-170">You must supply the address of a valid object as the lower bound for this option to work.</span></span> <span data-ttu-id="e208b-171">無効なオブジェクトのアドレスのメモリを表示して、次のメソッド テーブルを手動で検索できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-171">You can display memory at the address of a bad object to manually find the next method table.</span></span> <span data-ttu-id="e208b-172">ガベージ コレクションが現在 `memcopy` を呼び出している場合は、パラメーターとして渡された開始アドレスにサイズを追加することで、次のオブジェクトのアドレスを特定することもできます。</span><span class="sxs-lookup"><span data-stu-id="e208b-172">If the garbage collection is currently in a call to `memcopy`, you may also be able to find the address of the next object by adding the size to the start address, which is supplied as a parameter.</span></span><br /><br /> <span data-ttu-id="e208b-173">**-mt** オプションは、指定した `MethodTable` 構造体に対応するオブジェクトのみを一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-173">The **-mt** option lists only those objects that correspond to the specified `MethodTable` structure.</span></span><br /><br /> <span data-ttu-id="e208b-174">**-type** オプションは、指定した文字列に対して部分文字列一致する型名を持つオブジェクトのみを一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-174">The **-type** option lists only those objects whose type name is a substring match of the specified string.</span></span><br /><br /> <span data-ttu-id="e208b-175">`start` パラメーターは、指定したアドレスから一覧表示を開始します。</span><span class="sxs-lookup"><span data-stu-id="e208b-175">The `start` parameter begins listing from the specified address.</span></span><br /><br /> <span data-ttu-id="e208b-176">`end` パラメーターは、指定したアドレスで一覧表示を終了します。</span><span class="sxs-lookup"><span data-stu-id="e208b-176">The `end` parameter stops listing at the specified address.</span></span>|
|<span data-ttu-id="e208b-177">**DumpIL** \<*Managed DynamicMethod object*> &#124;       \<*DynamicMethodDesc pointer*> &#124;        \<*MethodDesc pointer*></span><span class="sxs-lookup"><span data-stu-id="e208b-177">**DumpIL** \<*Managed DynamicMethod object*> &#124;       \<*DynamicMethodDesc pointer*> &#124;        \<*MethodDesc pointer*></span></span>|<span data-ttu-id="e208b-178">マネージド メソッドに関連付けられている Microsoft Intermediate Language (MSIL) を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-178">Displays the Microsoft intermediate language (MSIL) that is associated with a managed method.</span></span><br /><br /> <span data-ttu-id="e208b-179">動的な MSIL は、アセンブリから読み込まれた MSIL とは異なる形式で出力されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-179">Note that dynamic MSIL is emitted differently than MSIL that is loaded from an assembly.</span></span> <span data-ttu-id="e208b-180">動的な MSIL は、メタデータ トークンではなくマネージド オブジェクト配列内のオブジェクトを参照します。</span><span class="sxs-lookup"><span data-stu-id="e208b-180">Dynamic MSIL refers to objects in a managed object array rather than to metadata tokens.</span></span>|
|<span data-ttu-id="e208b-181">**DumpLog** [ **-addr** \<*addressOfStressLog*>] [<*Filenam*`e`>]</span><span class="sxs-lookup"><span data-stu-id="e208b-181">**DumpLog** [**-addr** \<*addressOfStressLog*>] [<*Filenam*`e`>]</span></span>|<span data-ttu-id="e208b-182">メモリ内ストレス ログの内容を、指定したファイルに書き込みます。</span><span class="sxs-lookup"><span data-stu-id="e208b-182">Writes the contents of an in-memory stress log to the specified file.</span></span> <span data-ttu-id="e208b-183">名前を指定しないと、現在のディレクトリ内に StressLog.txt という名前のファイルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-183">If you do not specify a name, this command creates a file called StressLog.txt in the current directory.</span></span><br /><br /> <span data-ttu-id="e208b-184">メモリ内ストレス ログを使用すると、ロックまたは I/O を使用せずにストレス エラーを診断できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-184">The in-memory stress log helps you diagnose stress failures without using locks or I/O.</span></span> <span data-ttu-id="e208b-185">ストレス ログを有効にするには、HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework の下に次のレジストリ キーを設定します。</span><span class="sxs-lookup"><span data-stu-id="e208b-185">To enable the stress log, set the following registry keys under HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework:</span></span><br /><br /> <span data-ttu-id="e208b-186">(DWORD) StressLog = 1</span><span class="sxs-lookup"><span data-stu-id="e208b-186">(DWORD) StressLog = 1</span></span><br /><br /> <span data-ttu-id="e208b-187">(DWORD) LogFacility = 0xffffffff</span><span class="sxs-lookup"><span data-stu-id="e208b-187">(DWORD) LogFacility = 0xffffffff</span></span><br /><br /> <span data-ttu-id="e208b-188">(DWORD) StressLogSize = 65536</span><span class="sxs-lookup"><span data-stu-id="e208b-188">(DWORD) StressLogSize = 65536</span></span><br /><br /> <span data-ttu-id="e208b-189">省略可能な `-addr` オプションを使用すると、デフォルト ログ以外のストレス ログを指定できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-189">The optional `-addr` option lets you specify a stress log other than the default log.</span></span>|
|<span data-ttu-id="e208b-190">**DumpMD** \<*MethodDesc address*></span><span class="sxs-lookup"><span data-stu-id="e208b-190">**DumpMD** \<*MethodDesc address*></span></span>|<span data-ttu-id="e208b-191">指定したアドレスにある `MethodDesc` 構造体に関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-191">Displays information about a `MethodDesc` structure at the specified address.</span></span><br /><br /> <span data-ttu-id="e208b-192">**IP2MD** コマンドを使用すると、マネージド関数から `MethodDesc` 構造体のアドレスを取得できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-192">You can use the **IP2MD** command to get the `MethodDesc` structure address from a managed function.</span></span>|
|<span data-ttu-id="e208b-193">**DumpMT** **[-MD]** \<*MethodTable address*></span><span class="sxs-lookup"><span data-stu-id="e208b-193">**DumpMT** [**-MD**] \<*MethodTable address*></span></span>|<span data-ttu-id="e208b-194">指定したアドレスにあるメソッド テーブルに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-194">Displays information about a method table at the specified address.</span></span> <span data-ttu-id="e208b-195">**-MD** オプションを指定すると、オブジェクトに定義されているすべてのメソッドの一覧が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-195">Specifying the **-MD** option displays a list of all methods defined with the object.</span></span><br /><br /> <span data-ttu-id="e208b-196">各マネージド オブジェクトにメソッド テーブルのポインターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="e208b-196">Each managed object contains a method table pointer.</span></span>|
|<span data-ttu-id="e208b-197">**DumpMethodSig** \<*sigaddr*> <*moduleadd*`r`></span><span class="sxs-lookup"><span data-stu-id="e208b-197">**DumpMethodSig** \<*sigaddr*> <*moduleadd*`r`></span></span>|<span data-ttu-id="e208b-198">指定したアドレスにある `MethodSig` 構造体に関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-198">Displays information about a `MethodSig` structure at the specified address.</span></span>|
|<span data-ttu-id="e208b-199">**DumpModule** **[-mt]** \<*Module address*></span><span class="sxs-lookup"><span data-stu-id="e208b-199">**DumpModule** [**-mt**] \<*Module address*></span></span>|<span data-ttu-id="e208b-200">指定したアドレスにあるモジュールに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-200">Displays information about a module at the specified address.</span></span> <span data-ttu-id="e208b-201">**-mt** オプションは、モジュール内に定義されている型とモジュールから参照される型を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-201">The **-mt** option displays the types defined in a module and the types referenced by the module</span></span><br /><br /> <span data-ttu-id="e208b-202">**DumpDomain** コマンドまたは **DumpAssembly** コマンドを使用すると、モジュールのアドレスを取得できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-202">You can use the **DumpDomain** or **DumpAssembly** command to retrieve a module's address.</span></span>|
|<span data-ttu-id="e208b-203">**DumpObj** **[-nofields]** \<*object address*></span><span class="sxs-lookup"><span data-stu-id="e208b-203">**DumpObj** [**-nofields**] \<*object address*></span></span><br /><br /> <span data-ttu-id="e208b-204">\- または -</span><span class="sxs-lookup"><span data-stu-id="e208b-204">-or-</span></span><br /><br /> <span data-ttu-id="e208b-205">**DO** \<*object address*></span><span class="sxs-lookup"><span data-stu-id="e208b-205">**DO** \<*object address*></span></span>|<span data-ttu-id="e208b-206">指定したアドレスにあるオブジェクトに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-206">Displays information about an object at the specified address.</span></span> <span data-ttu-id="e208b-207">**DumpObj** コマンドを実行すると、フィールド、`EEClass` 構造体の情報、メソッド テーブル、およびオブジェクトのサイズが表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-207">The **DumpObj** command displays the fields, the `EEClass` structure information, the method table, and the size of the object.</span></span><br /><br /> <span data-ttu-id="e208b-208">**DumpStackObjects** コマンドを使用すると、オブジェクトのアドレスを取得できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-208">You can use the **DumpStackObjects** command to retrieve an object's address.</span></span><br /><br /> <span data-ttu-id="e208b-209">`CLASS` 型のフィールドはオブジェクトであるため、この型に対しても **DumpObj** コマンドを実行できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-209">Note that you can run the **DumpObj** command on fields of type `CLASS` because they are also objects.</span></span><br /><br /> <span data-ttu-id="e208b-210">`-`**nofields** オプションは、オブジェクトのフィールドが表示されないようにします。これは、String のようなオブジェクトに便利です。</span><span class="sxs-lookup"><span data-stu-id="e208b-210">The `-`**nofields** option prevents fields of the object being displayed, it is useful for objects like String.</span></span>|
|<span data-ttu-id="e208b-211">**DumpRuntimeTypes**</span><span class="sxs-lookup"><span data-stu-id="e208b-211">**DumpRuntimeTypes**</span></span>|<span data-ttu-id="e208b-212">ガベージ コレクター ヒープの中にあるランタイムの型オブジェクトを表示し、それらに関連付けられている型名とメソッド テーブルを一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-212">Displays the runtime type objects in the garbage collector heap and lists their associated type names and method tables.</span></span>|
|<span data-ttu-id="e208b-213">**DumpStack** **[-EE]** **[-n]** [`top` *stack* [`bottom` *stac*`k`]]</span><span class="sxs-lookup"><span data-stu-id="e208b-213">**DumpStack** [**-EE**] [**-n**] [`top` *stack* [`bottom` *stac*`k`]]</span></span>|<span data-ttu-id="e208b-214">スタック トレースを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-214">Displays a stack trace.</span></span><br /><br /> <span data-ttu-id="e208b-215">**DumpStack** コマンドで **-EE** オプションを指定すると、マネージド関数のみが表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-215">The **-EE** option causes the **DumpStack** command to display only managed functions.</span></span> <span data-ttu-id="e208b-216">`top` パラメーターおよび `bottom` パラメーターを使用して、x86 プラットフォーム上で表示するスタック フレームを制限します。</span><span class="sxs-lookup"><span data-stu-id="e208b-216">Use the `top` and `bottom` parameters to limit the stack frames displayed on x86 platforms.</span></span><br /><br /> <span data-ttu-id="e208b-217">**-n** オプションを指定すると、ソース ファイル名と行番号の表示が無効になります。</span><span class="sxs-lookup"><span data-stu-id="e208b-217">The **-n** option disables the display of source file names and line numbers.</span></span> <span data-ttu-id="e208b-218">デバッガーで SYMOPT_LOAD_LINES オプションが指定されている場合、SOS はすべてのマネージド フレームでシンボルを検索し、成功した場合は、対応するソース ファイル名と行番号を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-218">If the debugger has the option SYMOPT_LOAD_LINES specified, SOS will look up the symbols for every managed frame and if successful will display the corresponding source file name and line number.</span></span> <span data-ttu-id="e208b-219">**-n** (行番号なし) パラメーターを指定すると、この動作を無効にできます。</span><span class="sxs-lookup"><span data-stu-id="e208b-219">The **-n** (No line numbers) parameter can be specified to disable this behavior.</span></span><br /><br /> <span data-ttu-id="e208b-220">x86 および x64 プラットフォーム上では、**DumpStack** コマンドによって詳細なスタック トレースが作成されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-220">On x86 and x64 platforms, the **DumpStack** command creates a verbose stack trace.</span></span><br /><br /> <span data-ttu-id="e208b-221">IA-64 ベースのプラットフォーム上では、**DumpStack** コマンドはデバッガーの **K** コマンドと同様の動作を実行します。</span><span class="sxs-lookup"><span data-stu-id="e208b-221">On IA-64-based platforms, the **DumpStack** command mimics the debugger's **K** command.</span></span> <span data-ttu-id="e208b-222">IA-64 ベースのプラットフォーム上では、`top` パラメーターと `bottom` パラメーターは無視されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-222">The `top` and `bottom` parameters are ignored on IA-64-based platforms.</span></span>|
|<span data-ttu-id="e208b-223">**DumpSig** \<*sigaddr*> \<*moduleaddr*></span><span class="sxs-lookup"><span data-stu-id="e208b-223">**DumpSig** \<*sigaddr*> \<*moduleaddr*></span></span>|<span data-ttu-id="e208b-224">指定したアドレスにある `Sig` 構造体に関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-224">Displays information about a `Sig` structure at the specified address.</span></span>|
|<span data-ttu-id="e208b-225">**DumpSigElem** \<*sigaddr*> \<*moduleaddr*></span><span class="sxs-lookup"><span data-stu-id="e208b-225">**DumpSigElem** \<*sigaddr*> \<*moduleaddr*></span></span>|<span data-ttu-id="e208b-226">署名オブジェクトの 1 つの要素を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-226">Displays a single element of a signature object.</span></span> <span data-ttu-id="e208b-227">通常、個別の署名オブジェクトを調べるには **DumpSig** を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e208b-227">In most cases, you should use **DumpSig** to look at individual signature objects.</span></span> <span data-ttu-id="e208b-228">ただし、署名になんらかの破損がある場合は、**DumpSigElem** を使用して署名の無効な部分を読み取ることができます。</span><span class="sxs-lookup"><span data-stu-id="e208b-228">However, if a signature has been corrupted in some way, you can use **DumpSigElem** to read the valid portions of it.</span></span>|
|<span data-ttu-id="e208b-229">**DumpStackObjects** **[-verify]** [`top` *stack* [`bottom` *stack*]]</span><span class="sxs-lookup"><span data-stu-id="e208b-229">**DumpStackObjects** [**-verify**] [`top` *stack* [`bottom` *stack*]]</span></span><br /><br /> <span data-ttu-id="e208b-230">\- または -</span><span class="sxs-lookup"><span data-stu-id="e208b-230">-or-</span></span><br /><br /> <span data-ttu-id="e208b-231">**DSO** **[-verify]** [`top` *stack* [`bottom` *stack*]]</span><span class="sxs-lookup"><span data-stu-id="e208b-231">**DSO** [**-verify**] [`top` *stack* [`bottom` *stack*]]</span></span>|<span data-ttu-id="e208b-232">現在のスタックの範囲内で見つかったすべてのマネージド オブジェクトを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-232">Displays all managed objects found within the bounds of the current stack.</span></span><br /><br /> <span data-ttu-id="e208b-233">**-verify** オプションは、オブジェクト フィールドの静的でない各 `CLASS` フィールドを検証します。</span><span class="sxs-lookup"><span data-stu-id="e208b-233">The **-verify** option validates each non-static `CLASS` field of an object field.</span></span><br /><br /> <span data-ttu-id="e208b-234">**K** コマンド、**CLRStack** コマンドなどのスタック トレース コマンドと共に **DumpStackObject** コマンドを使用して、ローカル変数とパラメーターの値を確認します。</span><span class="sxs-lookup"><span data-stu-id="e208b-234">Use the **DumpStackObject** command with stack tracing commands such as the **K** command and the **CLRStack** command to determine the values of local variables and parameters.</span></span>|
|<span data-ttu-id="e208b-235">**DumpVC** \<*MethodTable address*> \<*Address*></span><span class="sxs-lookup"><span data-stu-id="e208b-235">**DumpVC** \<*MethodTable address*> \<*Address*></span></span>|<span data-ttu-id="e208b-236">指定したアドレスにある値クラスのフィールドに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-236">Displays information about the fields of a value class at the specified address.</span></span><br /><br /> <span data-ttu-id="e208b-237">**DumpVC** コマンドで **MethodTable** パラメーターを指定すると、フィールドを正しく解釈できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-237">The **MethodTable** parameter allows the **DumpVC** command to correctly interpret fields.</span></span> <span data-ttu-id="e208b-238">値クラスでは、最初のフィールドがメソッド テーブルになることはありません。</span><span class="sxs-lookup"><span data-stu-id="e208b-238">Value classes do not have a method table as their first field.</span></span>|
|<span data-ttu-id="e208b-239">**EEHeap** **[-gc]** **[-loader]**</span><span class="sxs-lookup"><span data-stu-id="e208b-239">**EEHeap** [**-gc**] [**-loader**]</span></span>|<span data-ttu-id="e208b-240">内部の CLR データ構造体によって消費されるプロセス メモリに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-240">Displays information about process memory consumed by internal CLR data structures.</span></span><br /><br /> <span data-ttu-id="e208b-241">**-gc** オプションと **-loader** オプションは、このコマンドによる出力を、ガベージ コレクターまたはローダーのデータ構造体のいずれかに制限します。</span><span class="sxs-lookup"><span data-stu-id="e208b-241">The **-gc** and **-loader** options limit the output of this command to garbage collector or loader data structures.</span></span><br /><br /> <span data-ttu-id="e208b-242">ガベージ コレクターの場合、マネージド ヒープの各セグメントの範囲内にある情報が一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-242">The information for the garbage collector lists the ranges of each segment in the managed heap.</span></span>  <span data-ttu-id="e208b-243">ポインターが **-gc** で指定されたセグメント内にある場合、そのポインターはオブジェクト ポインターです。</span><span class="sxs-lookup"><span data-stu-id="e208b-243">If the pointer falls within a segment range given by **-gc**, the pointer is an object pointer.</span></span>|
|<span data-ttu-id="e208b-244">**EEStack** **[-short]** **[-EE]**</span><span class="sxs-lookup"><span data-stu-id="e208b-244">**EEStack** [**-short**] [**-EE**]</span></span>|<span data-ttu-id="e208b-245">プロセス内のすべてのスレッドに対して **DumpStack** コマンドを実行します。</span><span class="sxs-lookup"><span data-stu-id="e208b-245">Runs the **DumpStack** command on all threads in the process.</span></span><br /><br /> <span data-ttu-id="e208b-246">**-EE** オプションは、**DumpStack** コマンドに直接渡されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-246">The **-EE** option is passed directly to the **DumpStack** command.</span></span> <span data-ttu-id="e208b-247">**-short** パラメーターは、次の種類のスレッドに出力を制限します。</span><span class="sxs-lookup"><span data-stu-id="e208b-247">The **-short** parameter limits the output to the following kinds of threads:</span></span><br /><br /> <span data-ttu-id="e208b-248">ロックを取得しているスレッド。</span><span class="sxs-lookup"><span data-stu-id="e208b-248">Threads that have taken a lock.</span></span><br /><br /> <span data-ttu-id="e208b-249">ガベージ コレクションを実行できるように停止されているスレッド。</span><span class="sxs-lookup"><span data-stu-id="e208b-249">Threads that have been stalled in order to allow a garbage collection.</span></span><br /><br /> <span data-ttu-id="e208b-250">現在マネージド コードにあるスレッド。</span><span class="sxs-lookup"><span data-stu-id="e208b-250">Threads that are currently in managed code.</span></span>|
|<span data-ttu-id="e208b-251">**EEVersion**</span><span class="sxs-lookup"><span data-stu-id="e208b-251">**EEVersion**</span></span>|<span data-ttu-id="e208b-252">CLR バージョンを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-252">Displays the CLR version.</span></span>|
|<span data-ttu-id="e208b-253">**EHInfo** [\<*MethodDesc address*>] [\<*Code address*>]</span><span class="sxs-lookup"><span data-stu-id="e208b-253">**EHInfo** [\<*MethodDesc address*>] [\<*Code address*>]</span></span>|<span data-ttu-id="e208b-254">指定したメソッドの例外処理ブロックを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-254">Displays the exception handling blocks in a specified method.</span></span>  <span data-ttu-id="e208b-255">このコマンドを使用すると、句ブロック (`try` ブロック) およびハンドラー ブロック (`catch` ブロック) のコード アドレスとオフセットが表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-255">This command displays the code addresses and offsets for the clause block (the `try` block) and the handler block (the `catch` block).</span></span>|
|<span data-ttu-id="e208b-256">**FAQ**</span><span class="sxs-lookup"><span data-stu-id="e208b-256">**FAQ**</span></span>|<span data-ttu-id="e208b-257">よく寄せられる質問を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-257">Displays frequently asked questions.</span></span>|
|<span data-ttu-id="e208b-258">**FinalizeQueue** **[-detail]** &#124; **[-allReady]** **[-short]**</span><span class="sxs-lookup"><span data-stu-id="e208b-258">**FinalizeQueue** [**-detail**] &#124; [**-allReady**] [**-short**]</span></span>|<span data-ttu-id="e208b-259">完了の目的で登録されているすべてのオブジェクトを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-259">Displays all objects registered for finalization.</span></span><br /><br /> <span data-ttu-id="e208b-260">**-detail** オプションは、クリーンアップする必要があるすべての `SyncBlocks` およびクリーンアップの実行を待っているすべての `RuntimeCallableWrappers` (RCW) に関する特別な情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-260">The **-detail** option displays extra information about any `SyncBlocks` that need to be cleaned up, and any `RuntimeCallableWrappers` (RCWs) that await cleanup.</span></span> <span data-ttu-id="e208b-261">どちらのデータ構造体も、実行するとファイナライザー スレッドでキャッシュされクリーンアップされます。</span><span class="sxs-lookup"><span data-stu-id="e208b-261">Both of these data structures are cached and cleaned up by the finalizer thread when it runs.</span></span><br /><br /> <span data-ttu-id="e208b-262">`-allReady` オプションは、終了準備完了になっているすべてのオブジェクトを表示します。ガベージ コレクションによって既にそのようにマークされているオブジェクトも、次のガベージ コレクションによってマークされる予定のオブジェクトも同様に扱われます。</span><span class="sxs-lookup"><span data-stu-id="e208b-262">The `-allReady` option displays all objects that are ready for finalization, regardless of whether they are already marked by the garbage collection as such, or will be marked by the next garbage collection.</span></span> <span data-ttu-id="e208b-263">"終了準備完了" リストに含まれるオブジェクトは、既にルートがなくなっているファイナライズ可能なオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="e208b-263">The objects that are in the "ready for finalization" list are finalizable objects that are no longer rooted.</span></span> <span data-ttu-id="e208b-264">このオプションは、ファイナライズ可能なキューに含まれるすべてのオブジェクトにまだルートがあるかどうかを検証するため、非常に負荷がかかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="e208b-264">This option can be very expensive, because it verifies whether all the objects in the finalizable queues are still rooted.</span></span><br /><br /> <span data-ttu-id="e208b-265">`-short` オプションは、各オブジェクトのアドレスに出力を制限します。</span><span class="sxs-lookup"><span data-stu-id="e208b-265">The `-short` option limits the output to the address of each object.</span></span> <span data-ttu-id="e208b-266">**-allReady** と組み合わせて使用すると、既にルートがなくなり、ファイナライザーが設定されているすべてのオブジェクトが列挙されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-266">If it is used in conjunction with **-allReady**, it enumerates all objects that have a finalizer that are no longer rooted.</span></span> <span data-ttu-id="e208b-267">単独で使用した場合は、ファイナライズ可能な状態で "終了準備完了" キューに含まれるすべてのオブジェクトが一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-267">If it is used independently, it lists all objects in the finalizable and "ready for finalization" queues.</span></span>|
|<span data-ttu-id="e208b-268">**FindAppDomain** \<*Object address*></span><span class="sxs-lookup"><span data-stu-id="e208b-268">**FindAppDomain** \<*Object address*></span></span>|<span data-ttu-id="e208b-269">指定したアドレスにあるオブジェクトのアプリケーション ドメインを確認します。</span><span class="sxs-lookup"><span data-stu-id="e208b-269">Determines the application domain of an object at the specified address.</span></span>|
|<span data-ttu-id="e208b-270">**FindRoots** **-gen** \<*N*> &#124; **-gen any** &#124;\<*object address*></span><span class="sxs-lookup"><span data-stu-id="e208b-270">**FindRoots** **-gen** \<*N*> &#124; **-gen any** &#124;\<*object address*></span></span>|<span data-ttu-id="e208b-271">指定したジェネレーションの次のコレクションでデバッガーがデバッグ対象を中断するようにします。</span><span class="sxs-lookup"><span data-stu-id="e208b-271">Causes the debugger to break in the debuggee on the next collection of the specified generation.</span></span> <span data-ttu-id="e208b-272">中断が発生すると、このオプションの効果はすぐにリセットされます。</span><span class="sxs-lookup"><span data-stu-id="e208b-272">The effect is reset as soon as the break occurs.</span></span> <span data-ttu-id="e208b-273">次のコレクションで中断するには、コマンドを再度実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e208b-273">To break on the next collection, you have to reissue the command.</span></span> <span data-ttu-id="e208b-274">このコマンドの *\<object address>* 形式は、 **-gen** または **-gen any** による中断が発生した後で使用します。</span><span class="sxs-lookup"><span data-stu-id="e208b-274">The *\<object address>* form of this command is used after the break caused by the **-gen** or **-gen any** has occurred.</span></span> <span data-ttu-id="e208b-275">この時点で、デバッグ対象は **FindRoots** が現在の無効なジェネレーションからオブジェクトのルートを識別するのに適した状態になっています。</span><span class="sxs-lookup"><span data-stu-id="e208b-275">At that time, the debuggee is in the right state for **FindRoots** to identify roots for objects from the current condemned generations.</span></span>|
|<span data-ttu-id="e208b-276">**GCHandles** **[- perdomain]**</span><span class="sxs-lookup"><span data-stu-id="e208b-276">**GCHandles** [**-perdomain**]</span></span>|<span data-ttu-id="e208b-277">プロセス内のガベージ コレクター ハンドルに関する統計を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-277">Displays statistics about garbage collector handles in the process.</span></span><br /><br /> <span data-ttu-id="e208b-278">**-perdomain** オプションは、アプリケーション ドメイン別に統計を再配置します。</span><span class="sxs-lookup"><span data-stu-id="e208b-278">The **-perdomain** option arranges the statistics by application domain.</span></span><br /><br /> <span data-ttu-id="e208b-279">**GCHandles** コマンドを使用して、ガベージ コレクター ハンドルのリークによって発生するメモリ リークを検索します。</span><span class="sxs-lookup"><span data-stu-id="e208b-279">Use the **GCHandles** command to find memory leaks caused by garbage collector handle leaks.</span></span> <span data-ttu-id="e208b-280">たとえば、厳密なガベージ コレクター ハンドルが大きな配列を指しているためコードがその配列を保持したままになっているときに、その配列を解放せずにハンドルを破棄すると、メモリ リークが発生します。</span><span class="sxs-lookup"><span data-stu-id="e208b-280">For example, a memory leak occurs when code retains a large array because a strong garbage collector handle still points to it, and the handle is discarded without freeing it.</span></span>|
|<span data-ttu-id="e208b-281">**GCHandleLeaks**</span><span class="sxs-lookup"><span data-stu-id="e208b-281">**GCHandleLeaks**</span></span>|<span data-ttu-id="e208b-282">プロセスの強力なガベージ コレクター ハンドルおよび固定されたガベージ コレクター ハンドルへの参照についてメモリ内を検索し、結果を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-282">Searches memory for any references to strong and pinned garbage collector handles in the process and displays the results.</span></span> <span data-ttu-id="e208b-283">ハンドルが見つかった場合、**GCHandleLeaks** コマンドは参照のアドレスを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-283">If a handle is found, the **GCHandleLeaks** command displays the address of the reference.</span></span> <span data-ttu-id="e208b-284">メモリ内にハンドルが見つからない場合、このコマンドは通知を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-284">If a handle is not found in memory, this command displays a notification.</span></span>|
|<span data-ttu-id="e208b-285">**GCInfo** \<*MethodDesc address*>\<*Code address*></span><span class="sxs-lookup"><span data-stu-id="e208b-285">**GCInfo** \<*MethodDesc address*>\<*Code address*></span></span>|<span data-ttu-id="e208b-286">レジスタまたはスタックの場所にマネージド オブジェクトが格納された時期を示すデータを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-286">Displays data that indicates when registers or stack locations contain managed objects.</span></span> <span data-ttu-id="e208b-287">ガベージ コレクションを実行する場合は、コレクターはオブジェクトに対する参照の場所を把握しておく必要があります。その結果、新しいオブジェクト ポインターの値を使用して参照を更新できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-287">If a garbage collection occurs, the collector must know the locations of references to objects so it can update them with new object pointer values.</span></span>|
|<span data-ttu-id="e208b-288">**GCRoot** **[-nostacks]** \<*Object address*></span><span class="sxs-lookup"><span data-stu-id="e208b-288">**GCRoot** [**-nostacks**] \<*Object address*></span></span>|<span data-ttu-id="e208b-289">指定したアドレスにあるオブジェクトへの参照 (またはルート) に関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-289">Displays information about references (or roots) to an object at the specified address.</span></span><br /><br /> <span data-ttu-id="e208b-290">**GCRoot** コマンドは、マネージド ヒープ全体と、スタック上の他のオブジェクトおよびハンドル内にあるハンドルから成るハンドル テーブルを調べます。</span><span class="sxs-lookup"><span data-stu-id="e208b-290">The **GCRoot** command examines the entire managed heap and the handle table for handles within other objects and handles on the stack.</span></span> <span data-ttu-id="e208b-291">次に、オブジェクトへのポインターについて各スタックを検索し、さらにファイナライザー キューも検索します。</span><span class="sxs-lookup"><span data-stu-id="e208b-291">Each stack is then searched for pointers to objects, and the finalizer queue is also searched.</span></span><br /><br /> <span data-ttu-id="e208b-292">このコマンドは、スタック ルートが有効かまたは破棄されているかどうかを確認しません。</span><span class="sxs-lookup"><span data-stu-id="e208b-292">This command does not determine whether a stack root is valid or is discarded.</span></span> <span data-ttu-id="e208b-293">スタック ルートが使用中であるかどうかを確認するには、**CLRStack** コマンドと **U** コマンドを使用して、ローカルまたは引数の値が属するフレームを逆アセンブルします。</span><span class="sxs-lookup"><span data-stu-id="e208b-293">Use the **CLRStack** and **U** commands to disassemble the frame that the local or argument value belongs to in order to determine if the stack root is still in use.</span></span><br /><br /> <span data-ttu-id="e208b-294">**-nostacks** オプションは、ガベージ コレクター ハンドルおよび到達可能なオブジェクトのみを検索するように制限を加えます。</span><span class="sxs-lookup"><span data-stu-id="e208b-294">The **-nostacks** option restricts the search to garbage collector handles and reachable objects.</span></span>|
|<span data-ttu-id="e208b-295">**GCWhere**  *\<object address>*</span><span class="sxs-lookup"><span data-stu-id="e208b-295">**GCWhere**  *\<object address>*</span></span>|<span data-ttu-id="e208b-296">渡された引数のガベージ コレクション ヒープ内での位置とサイズを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-296">Displays the location and size in the garbage collection heap of the argument passed in.</span></span> <span data-ttu-id="e208b-297">引数がマネージド ヒープ内にあっても、有効なオブジェクト アドレスではない場合は、サイズは 0 (ゼロ) と表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-297">When the argument lies in the managed heap but is not a valid object address, the size is displayed as 0 (zero).</span></span>|
|<span data-ttu-id="e208b-298">**help** [\<*command*>] [`faq`]</span><span class="sxs-lookup"><span data-stu-id="e208b-298">**help** [\<*command*>] [`faq`]</span></span>|<span data-ttu-id="e208b-299">パラメーターを指定しない場合は、使用できるすべてのコマンドを表示します。パラメーターとしてコマンドを指定した場合は、そのコマンドに関する詳細なヘルプを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-299">Displays all available commands when no parameter is specified, or displays detailed help information about the specified command.</span></span><br /><br /> <span data-ttu-id="e208b-300">`faq` パラメーターを指定すると、よく寄せられる質問に対する回答が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-300">The `faq` parameter displays answers to frequently asked questions.</span></span>|
|<span data-ttu-id="e208b-301">**HeapStat** [ **-inclUnrooted** &#124; **-iu**]</span><span class="sxs-lookup"><span data-stu-id="e208b-301">**HeapStat** [**-inclUnrooted** &#124; **-iu**]</span></span>|<span data-ttu-id="e208b-302">各ヒープのジェネレーション サイズ、および各ヒープの各ジェネレーションでの合計空き領域を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-302">Displays the generation sizes for each heap and the total free space in each generation on each heap.</span></span> <span data-ttu-id="e208b-303">-**inclUnrooted** オプションを指定すると、レポートには既にルートがないガベージ コレクション ヒープからのマネージド オブジェクトに関する情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e208b-303">If the -**inclUnrooted** option is specified, the report includes information about the managed objects from the garbage collection heap that is no longer rooted.</span></span>|
|<span data-ttu-id="e208b-304">**HistClear**</span><span class="sxs-lookup"><span data-stu-id="e208b-304">**HistClear**</span></span>|<span data-ttu-id="e208b-305">`Hist` コマンドのファミリによって使用されているすべてのリソースを解放します。</span><span class="sxs-lookup"><span data-stu-id="e208b-305">Releases any resources used by the family of `Hist` commands.</span></span><br /><br /> <span data-ttu-id="e208b-306">通常は、`HistClear` を明示的に呼び出す必要はありません。各 `HistInit` が前のリソースをクリーンアップします。</span><span class="sxs-lookup"><span data-stu-id="e208b-306">Generally, you do not have to explicitly call `HistClear`, because each `HistInit` cleans up the previous resources.</span></span>|
|<span data-ttu-id="e208b-307">**HistInit**</span><span class="sxs-lookup"><span data-stu-id="e208b-307">**HistInit**</span></span>|<span data-ttu-id="e208b-308">デバッグ対象に保存されているストレス ログから SOS 構造体を初期化します。</span><span class="sxs-lookup"><span data-stu-id="e208b-308">Initializes the SOS structures from the stress log saved in the debuggee.</span></span>|
|<span data-ttu-id="e208b-309">**HistObj** *\<obj_address>*</span><span class="sxs-lookup"><span data-stu-id="e208b-309">**HistObj** *\<obj_address>*</span></span>|<span data-ttu-id="e208b-310">すべてのストレス ログ再配置レコードを調べて、引数として渡されたアドレスになった可能性のあるガベージ コレクション再配置のチェーンを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-310">Examines all stress log relocation records and displays the chain of garbage collection relocations that may have led to the address passed in as an argument.</span></span>|
|<span data-ttu-id="e208b-311">**HistObjFind**  *\<obj_address>*</span><span class="sxs-lookup"><span data-stu-id="e208b-311">**HistObjFind**  *\<obj_address>*</span></span>|<span data-ttu-id="e208b-312">指定したアドレスにあるオブジェクトを参照するすべてのログ エントリを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-312">Displays all the log entries that reference an object at the specified address.</span></span>|
|<span data-ttu-id="e208b-313">**HistRoot** *\<root>*</span><span class="sxs-lookup"><span data-stu-id="e208b-313">**HistRoot** *\<root>*</span></span>|<span data-ttu-id="e208b-314">指定したルートの上位変換と再配置の両方に関係する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-314">Displays information related to both promotions and relocations of the specified root.</span></span><br /><br /> <span data-ttu-id="e208b-315">ルートの値を使用すると、ガベージ コレクション内でのオブジェクトの移動を追跡できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-315">The root value can be used to track the movement of an object through the garbage collections.</span></span>|
|<span data-ttu-id="e208b-316">**IP2MD** \<*Code address*></span><span class="sxs-lookup"><span data-stu-id="e208b-316">**IP2MD** \<*Code address*></span></span>|<span data-ttu-id="e208b-317">JIT コンパイルされたコード内の指定したアドレスにある `MethodDesc` 構造体を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-317">Displays the `MethodDesc` structure at the specified address in code that has been JIT-compiled.</span></span>|
|<span data-ttu-id="e208b-318">`ListNearObj` (`lno`) *\<obj_address>*</span><span class="sxs-lookup"><span data-stu-id="e208b-318">`ListNearObj` (`lno`) *\<obj_address>*</span></span>|<span data-ttu-id="e208b-319">指定したアドレスの前および後にあるオブジェクトを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-319">Displays the objects preceding and following the specified address.</span></span> <span data-ttu-id="e208b-320">このコマンドは、マネージド オブジェクトの開始時に (有効メソッド テーブルに基づいて) 有効であると考えられるガベージ コレクション ヒープ内のアドレス、および引数アドレスの後のオブジェクトを検索します。</span><span class="sxs-lookup"><span data-stu-id="e208b-320">The command looks for the address in the garbage collection heap that looks like a valid beginning of a managed object (based on a valid method table) and the object following the argument address.</span></span>|
|<span data-ttu-id="e208b-321">**MinidumpMode** **[0]** **[1]**</span><span class="sxs-lookup"><span data-stu-id="e208b-321">**MinidumpMode** [**0**] [**1**]</span></span>|<span data-ttu-id="e208b-322">ミニダンプを使用するときに安全でないコマンドが実行されるのを防止します。</span><span class="sxs-lookup"><span data-stu-id="e208b-322">Prevents running unsafe commands when using a minidump.</span></span><br /><br /> <span data-ttu-id="e208b-323">この機能を無効にするには **0** を渡し、機能を有効にするには **1** を渡します。</span><span class="sxs-lookup"><span data-stu-id="e208b-323">Pass **0** to disable this feature or **1** to enable this feature.</span></span> <span data-ttu-id="e208b-324">既定では、**MinidumpMode** の値は **0** に設定されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-324">By default, the **MinidumpMode** value is set to **0**.</span></span><br /><br /> <span data-ttu-id="e208b-325">**.dump /m** コマンドまたは **.dump** コマンドで作成されるミニダンプの内容は CLR 固有のデータに制限され、このミニダンプは SOS コマンドのサブセットでのみ正しく実行できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-325">Minidumps created with the **.dump /m** command or **.dump** command have limited CLR-specific data and allow you to run only a subset of SOS commands correctly.</span></span> <span data-ttu-id="e208b-326">一部のコマンドはメモリの必要領域が割り当てられていないか一部分しか割り当てられていないため、予期しないエラーが発生して失敗することがあります。</span><span class="sxs-lookup"><span data-stu-id="e208b-326">Some commands may fail with unexpected errors because required areas of memory are not mapped or are only partially mapped.</span></span> <span data-ttu-id="e208b-327">このオプションは、ミニダンプに対して安全でないコマンドが実行されるのを防止します。</span><span class="sxs-lookup"><span data-stu-id="e208b-327">This option protects you from running unsafe commands against minidumps.</span></span>|
|<span data-ttu-id="e208b-328">**Name2EE** \<*module name*> \<*type or method name*></span><span class="sxs-lookup"><span data-stu-id="e208b-328">**Name2EE** \<*module name*> \<*type or method name*></span></span><br /><br /> <span data-ttu-id="e208b-329">\- または -</span><span class="sxs-lookup"><span data-stu-id="e208b-329">-or-</span></span><br /><br /> <span data-ttu-id="e208b-330">**Name2EE** \<*module name*> **!** \<*type or method name*></span><span class="sxs-lookup"><span data-stu-id="e208b-330">**Name2EE** \<*module name*>**!**\<*type or method name*></span></span>|<span data-ttu-id="e208b-331">指定したモジュール内の指定した型またはメソッドの `MethodTable` 構造体および `EEClass` 構造体を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-331">Displays the `MethodTable` structure and `EEClass` structure for the specified type or method in the specified module.</span></span><br /><br /> <span data-ttu-id="e208b-332">指定したモジュールをプロセスに読み込む必要があります。</span><span class="sxs-lookup"><span data-stu-id="e208b-332">The specified module must be loaded in the process.</span></span><br /><br /> <span data-ttu-id="e208b-333">適切な型名を取得するには、[Ildasm.exe (IL 逆アセンブラー)](ildasm-exe-il-disassembler.md) を使用してモジュールを参照します。</span><span class="sxs-lookup"><span data-stu-id="e208b-333">To get the proper type name, browse the module by using the [Ildasm.exe (IL Disassembler)](ildasm-exe-il-disassembler.md).</span></span> <span data-ttu-id="e208b-334">また、`*` を module name パラメーターとして渡すと、読み込まれているすべてのマネージド モジュールを検索できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-334">You can also pass `*` as the module name parameter to search all loaded managed modules.</span></span> <span data-ttu-id="e208b-335">*モジュール名* パラメーターには、`mscorlib`、`image00400000` など、デバッガーのモジュールの名前も指定できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-335">The *module name* parameter can also be the debugger's name for a module, such as `mscorlib` or `image00400000`.</span></span><br /><br /> <span data-ttu-id="e208b-336">このコマンドは、Windows のデバッガー構文 <`module`>`!`<`type`> をサポートします。</span><span class="sxs-lookup"><span data-stu-id="e208b-336">This command supports the Windows debugger syntax of <`module`>`!`<`type`>.</span></span> <span data-ttu-id="e208b-337">型は、完全修飾する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e208b-337">The type must be fully qualified.</span></span>|
|<span data-ttu-id="e208b-338">**ObjSize** [\<*Object address*>] &#124; **[-aggregate]** **[-stat]**</span><span class="sxs-lookup"><span data-stu-id="e208b-338">**ObjSize** [\<*Object address*>] &#124; [**-aggregate**] [**-stat**]</span></span>|<span data-ttu-id="e208b-339">指定したオブジェクトのサイズを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-339">Displays the size of the specified object.</span></span> <span data-ttu-id="e208b-340">パラメーターを何も指定しないで **ObjSize** コマンドを使用すると、マネージド スレッドで見つかったすべてのオブジェクトのサイズが表示され、プロセス内のすべてのガベージ コレクター ハンドル、およびそれらのハンドルが指すオブジェクトのサイズの合計が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-340">If you do not specify any parameters, the **ObjSize** command displays the size of all objects found on managed threads, displays all garbage collector handles in the process, and totals the size of any objects pointed to by those handles.</span></span> <span data-ttu-id="e208b-341">**ObjSize** コマンドの結果には、親オブジェクトに加え、すべての子オブジェクトのサイズが含まれます。</span><span class="sxs-lookup"><span data-stu-id="e208b-341">The **ObjSize** command includes the size of all child objects in addition to the parent.</span></span><br /><br /> <span data-ttu-id="e208b-342">**-aggregate** オプションを **-stat** 引数と組み合わせて使用すると、まだルートがある型の詳細なビューを取得できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-342">The **-aggregate** option can be used in conjunction with the **-stat** argument to get a detailed view of the types that are still rooted.</span></span> <span data-ttu-id="e208b-343">**!dumpheap -stat** と **!objsize -aggregate -stat** を使用することで、既にルートがなくなっているオブジェクトを判別し、メモリに関するさまざまな問題を診断できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-343">By using **!dumpheap -stat** and **!objsize -aggregate -stat**, you can determine which objects are no longer rooted and diagnose various memory issues.</span></span>|
|<span data-ttu-id="e208b-344">**PrintException** **[-nested]** **[-lines]** [\<*Exception object address*>]</span><span class="sxs-lookup"><span data-stu-id="e208b-344">**PrintException** [**-nested**] [**-lines**] [\<*Exception object address*>]</span></span><br /><br /> <span data-ttu-id="e208b-345">\- または -</span><span class="sxs-lookup"><span data-stu-id="e208b-345">-or-</span></span><br /><br /> <span data-ttu-id="e208b-346">**PE** **[-nested]** [\<*Exception object address*>]</span><span class="sxs-lookup"><span data-stu-id="e208b-346">**PE** [**-nested**] [\<*Exception object address*>]</span></span>|<span data-ttu-id="e208b-347">指定したアドレスにある <xref:System.Exception> クラスから派生したすべてのオブジェクトのフィールドが表示および書式設定されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-347">Displays and formats fields of any object derived from the <xref:System.Exception> class at the specified address.</span></span> <span data-ttu-id="e208b-348">アドレスを指定しないで **PrintException** コマンドを使用すると、現在のスレッドで最後にスローされた例外が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-348">If you do not specify an address, the **PrintException** command displays the last exception thrown on the current thread.</span></span><br /><br /> <span data-ttu-id="e208b-349">**-nested** オプションは、入れ子になった例外オブジェクトに関する詳細を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-349">The **-nested** option displays details about nested exception objects.</span></span><br /><br /> <span data-ttu-id="e208b-350">**-lines** オプションは、ソース情報を表示します (存在する場合)。</span><span class="sxs-lookup"><span data-stu-id="e208b-350">The **-lines** option displays source information, if available.</span></span><br /><br /> <span data-ttu-id="e208b-351">このコマンドを使用すると、バイナリ配列の `_stackTrace` フィールドを書式設定して表示できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-351">You can use this command to format and view the `_stackTrace` field, which is a binary array.</span></span>|
|<span data-ttu-id="e208b-352">**ProcInfo** **[-env]** **[-time]** **[-mem]**</span><span class="sxs-lookup"><span data-stu-id="e208b-352">**ProcInfo** [**-env**] [**-time**] [**-mem**]</span></span>|<span data-ttu-id="e208b-353">プロセスの環境変数、カーネル CPU 時間、およびメモリ使用率統計を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-353">Displays environment variables for the process, kernel CPU time, and memory usage statistics.</span></span>|
|<span data-ttu-id="e208b-354">**RCWCleanupList** \<*RCWCleanupList address*></span><span class="sxs-lookup"><span data-stu-id="e208b-354">**RCWCleanupList** \<*RCWCleanupList address*></span></span>|<span data-ttu-id="e208b-355">指定したアドレスにあり、クリーンアップを待っているランタイム呼び出し可能ラッパーの一覧を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-355">Displays the list of runtime callable wrappers at the specified address that are awaiting cleanup.</span></span>|
|<span data-ttu-id="e208b-356">**SaveModule** \<*Base address*> \<*Filename*></span><span class="sxs-lookup"><span data-stu-id="e208b-356">**SaveModule** \<*Base address*> \<*Filename*></span></span>|<span data-ttu-id="e208b-357">メモリ内の指定したアドレスに読み込まれているイメージを、指定したファイルに書き込みます。</span><span class="sxs-lookup"><span data-stu-id="e208b-357">Writes an image, which is loaded in memory at the specified address, to the specified file.</span></span>|
|<span data-ttu-id="e208b-358">**SOSFlush**</span><span class="sxs-lookup"><span data-stu-id="e208b-358">**SOSFlush**</span></span>|<span data-ttu-id="e208b-359">内部 SOS キャッシュをフラッシュします。</span><span class="sxs-lookup"><span data-stu-id="e208b-359">Flushes an internal SOS cache.</span></span>|
|<span data-ttu-id="e208b-360">**StopOnException** **[-derived]** [ **-create** &#124; **-create2**] \<*Exception*> \<*Pseudo-register number*></span><span class="sxs-lookup"><span data-stu-id="e208b-360">**StopOnException** [**-derived**] [**-create** &#124; **-create2**] \<*Exception*> \<*Pseudo-register number*></span></span>|<span data-ttu-id="e208b-361">指定した例外がスローされたときにデバッガーを停止しますが、それ以外の例外がスローされたときは実行を続行します。</span><span class="sxs-lookup"><span data-stu-id="e208b-361">Causes the debugger to stop when the specified exception is thrown, but to continue running when other exceptions are thrown.</span></span><br /><br /> <span data-ttu-id="e208b-362">**-derived** オプションは、指定した例外、および指定した例外から派生したすべての例外をキャッチします。</span><span class="sxs-lookup"><span data-stu-id="e208b-362">The **-derived** option catches the specified exception and every exception that derives from the specified exception.</span></span>|
|<span data-ttu-id="e208b-363">**SyncBlk** [ **-all** &#124; \<*syncblk number*>]</span><span class="sxs-lookup"><span data-stu-id="e208b-363">**SyncBlk** [**-all** &#124; \<*syncblk number*>]</span></span>|<span data-ttu-id="e208b-364">指定した `SyncBlock` 構造体またはすべての `SyncBlock` 構造体を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-364">Displays the specified `SyncBlock` structure or all `SyncBlock` structures.</span></span>  <span data-ttu-id="e208b-365">**SyncBlk** コマンドに引数を渡さない場合は、スレッドが所有しているオブジェクトに対応する `SyncBlock` 構造体が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-365">If you do not pass any arguments, the **SyncBlk** command displays the `SyncBlock` structure corresponding to objects that are owned by a thread.</span></span><br /><br /> <span data-ttu-id="e208b-366">`SyncBlock` 構造体は、オブジェクトによっては作成する必要のないこともある追加情報のコンテナーです。</span><span class="sxs-lookup"><span data-stu-id="e208b-366">A `SyncBlock` structure is a container for extra information that does not need to be created for every object.</span></span> <span data-ttu-id="e208b-367">この構造体は、COM 相互運用機能データ、ハッシュ コード、およびスレッド セーフ操作用のロック情報を保持できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-367">It can hold COM interop data, hash codes, and locking information for thread-safe operations.</span></span>|
|<span data-ttu-id="e208b-368">**ThreadPool**</span><span class="sxs-lookup"><span data-stu-id="e208b-368">**ThreadPool**</span></span>|<span data-ttu-id="e208b-369">キュー内の作業要求の数、完了ポート スレッドの数、タイマーの数を含め、マネージド スレッド プールに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-369">Displays information about the managed thread pool, including the number of work requests in the queue, the number of completion port threads, and the number of timers.</span></span>|
|<span data-ttu-id="e208b-370">**Token2EE** \<*module name*> \<*token*></span><span class="sxs-lookup"><span data-stu-id="e208b-370">**Token2EE** \<*module name*> \<*token*></span></span>|<span data-ttu-id="e208b-371">指定したモジュール内の指定したメタデータ トークンを `MethodTable` 構造体または `MethodDesc` 構造体に変換します。</span><span class="sxs-lookup"><span data-stu-id="e208b-371">Turns the specified metadata token in the specified module into a `MethodTable` structure or `MethodDesc` structure.</span></span><br /><br /> <span data-ttu-id="e208b-372">module name パラメーターに `*` を渡すと、読み込まれているすべてのマネージド モジュール内にあるそのトークンの割り当て先を検索できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-372">You can pass `*` for the module name parameter to find what that token maps to in every loaded managed module.</span></span> <span data-ttu-id="e208b-373">また、デバッガーの `mscorlib`、`image00400000` などのモジュール名を渡すこともできます。</span><span class="sxs-lookup"><span data-stu-id="e208b-373">You can also pass the debugger's name for a module, such as `mscorlib` or `image00400000`.</span></span>|
|<span data-ttu-id="e208b-374">**Threads** **[-live]** **[-special]**</span><span class="sxs-lookup"><span data-stu-id="e208b-374">**Threads** [**-live**] [**-special**]</span></span>|<span data-ttu-id="e208b-375">プロセス内のすべてのマネージド スレッドを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-375">Displays all managed threads in the process.</span></span><br /><br /> <span data-ttu-id="e208b-376">**Threads** コマンドを使用すると、デバッガーの短縮 ID、CLR のスレッド ID、およびオペレーティング システムのスレッド ID が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-376">The **Threads** command displays the debugger shorthand ID, the CLR thread ID, and the operating system thread ID.</span></span>  <span data-ttu-id="e208b-377">さらに、**Threads** コマンドでは、スレッドを実行しているアプリケーション ドメインを示すドメイン列、COM アパートメント モードが表示される APT 列、およびスレッド内の最後にスローされた例外が表示される例外列が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-377">Additionally, the **Threads** command displays a Domain column that indicates the application domain in which a thread is executing, an APT column that displays the COM apartment mode, and an Exception column that displays the last exception thrown in the thread.</span></span><br /><br /> <span data-ttu-id="e208b-378">**-live** オプションは、ライブ スレッドに関連付けられているスレッドを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-378">The **-live** option displays threads associated with a live thread.</span></span><br /><br /> <span data-ttu-id="e208b-379">**-special** オプションは、CLR で作成されたすべての特殊なスレッドを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-379">The **-special** option displays all special threads created by the CLR.</span></span> <span data-ttu-id="e208b-380">特殊なスレッドには、同時実行ガベージ コレクションおよびサーバー ガベージ コレクションのガベージ コレクション スレッド、デバッガー ヘルパー スレッド、ファイナライザー スレッド、<xref:System.AppDomain> アンロード スレッド、およびスレッド プール タイマー スレッドがあります。</span><span class="sxs-lookup"><span data-stu-id="e208b-380">Special threads include garbage collection threads (in concurrent and server garbage collection), debugger helper threads, finalizer threads, <xref:System.AppDomain> unload threads, and thread pool timer threads.</span></span>|
|<span data-ttu-id="e208b-381">**ThreadState \<** *State value field* **>**</span><span class="sxs-lookup"><span data-stu-id="e208b-381">**ThreadState \<** *State value field* **>**</span></span>|<span data-ttu-id="e208b-382">スレッドの状態を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-382">Displays the state of the thread.</span></span> <span data-ttu-id="e208b-383">`value` パラメーターは、**Threads** レポート出力の `State` フィールドの値です。</span><span class="sxs-lookup"><span data-stu-id="e208b-383">The `value` parameter is the value of the `State` field in the **Threads** report output.</span></span><br /><br /> <span data-ttu-id="e208b-384">例:</span><span class="sxs-lookup"><span data-stu-id="e208b-384">Example:</span></span><br /><br /> `0:003> !Threads     ThreadCount:      2     UnstartedThread:  0     BackgroundThread: 1     PendingThread:    0     DeadThread:       0     Hosted Runtime:   no                                           PreEmptive   GC Alloc           Lock            ID OSID ThreadOBJ    State     GC       Context       Domain   Count APT Exception        0    1  250 0019b068      a020 Disabled 02349668:02349fe8 0015def0     0 MTA        2    2  944 001a6020      b220 Enabled  00000000:00000000 0015def0     0 MTA (Finalizer)     0:003> !ThreadState b220         Legal to Join         Background         CLR Owns         CoInitialized         In Multi Threaded Apartment`|
|<span data-ttu-id="e208b-385">**TraverseHeap** **[-xml]** \<*filename*></span><span class="sxs-lookup"><span data-stu-id="e208b-385">**TraverseHeap** [**-xml**] \<*filename*></span></span>|<span data-ttu-id="e208b-386">ヒープ情報を、CLR プロファイラーが処理できる形式で指定したファイルに書き込みます。</span><span class="sxs-lookup"><span data-stu-id="e208b-386">Writes heap information to the specified file in a format understood by the CLR profiler.</span></span> <span data-ttu-id="e208b-387">**TraverseHeap** コマンドの **-xml** オプションを指定すると、ファイルが XML 形式として設定されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-387">The **-xml** option causes the **TraverseHeap** command to format the file as XML.</span></span><br /><br /> <span data-ttu-id="e208b-388">CLR プロファイラーは [Microsoft ダウンロード センター](https://go.microsoft.com/fwlink/?LinkID=67325)からダウンロードできます。</span><span class="sxs-lookup"><span data-stu-id="e208b-388">You can download the CLR Profiler from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkID=67325).</span></span>|
|<span data-ttu-id="e208b-389">**U** **[-gcinfo]** **[-ehinfo]** **[-n]** \<*MethodDesc address*> &#124; \<*Code address*></span><span class="sxs-lookup"><span data-stu-id="e208b-389">**U** [**-gcinfo**] [**-ehinfo**] [**-n**] \<*MethodDesc address*> &#124; \<*Code address*></span></span>|<span data-ttu-id="e208b-390">メソッドの `MethodDesc` 構造体ポインターまたはメソッド本体のコード アドレスで指定したマネージド メソッドの注釈付き逆アセンブリを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-390">Displays an annotated disassembly of a managed method specified either by a `MethodDesc` structure pointer for the method or by a code address within the method body.</span></span> <span data-ttu-id="e208b-391">**U** コマンドを使用すると、開始から終了までのすべてのメソッドが、メタデータ トークンを名前に変換する注釈付きで表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-391">The **U** command displays the entire method from start to finish, with annotations that convert metadata tokens to names.</span></span><br /><br /> <span data-ttu-id="e208b-392">**U** コマンドの **-gcinfo** オプションを指定すると、メソッドの `GCInfo` 構造体が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-392">The **-gcinfo** option causes the **U** command to display the `GCInfo` structure for the method.</span></span><br /><br /> <span data-ttu-id="e208b-393">**-ehinfo** オプションは、メソッドの例外情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-393">The **-ehinfo** option displays exception information for the method.</span></span> <span data-ttu-id="e208b-394">この情報は **EHInfo** コマンドでも取得できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-394">You can also obtain this information with the **EHInfo** command.</span></span><br /><br /> <span data-ttu-id="e208b-395">**-n** オプションを指定すると、ソース ファイル名と行番号の表示が無効になります。</span><span class="sxs-lookup"><span data-stu-id="e208b-395">The **-n** option disables the display of source file names and line numbers.</span></span> <span data-ttu-id="e208b-396">デバッガーで SYMOPT_LOAD_LINES オプションが指定されている場合、SOS はすべてのマネージド フレームでシンボルを検索し、成功した場合は、対応するソース ファイル名と行番号を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-396">If the debugger has the option SYMOPT_LOAD_LINES specified, SOS looks up the symbols for every managed frame and, if successful, displays the corresponding source file name and line number.</span></span> <span data-ttu-id="e208b-397">**-n** オプションを指定すると、この動作を無効にできます。</span><span class="sxs-lookup"><span data-stu-id="e208b-397">You can specify the **-n** option to disable this behavior.</span></span>|
|<span data-ttu-id="e208b-398">**VerifyHeap**</span><span class="sxs-lookup"><span data-stu-id="e208b-398">**VerifyHeap**</span></span>|<span data-ttu-id="e208b-399">ガベージ コレクター ヒープの破損の兆候をチェックし、検出されたすべてのエラーを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-399">Checks the garbage collector heap for signs of corruption and displays any errors found.</span></span><br /><br /> <span data-ttu-id="e208b-400">ヒープが正しく構築されていない場合、プラットフォームが呼び出しを実行したことが原因で、ヒープが破損する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e208b-400">Heap corruptions can be caused by platform invoke calls that are constructed incorrectly.</span></span>|
|<span data-ttu-id="e208b-401">**VerifyObj** \<*object address*></span><span class="sxs-lookup"><span data-stu-id="e208b-401">**VerifyObj** \<*object address*></span></span>|<span data-ttu-id="e208b-402">引数として渡されたオブジェクトで破損の兆候を調べます。</span><span class="sxs-lookup"><span data-stu-id="e208b-402">Checks the object that is passed as an argument for signs of corruption.</span></span>|
|<span data-ttu-id="e208b-403">**VMMap**</span><span class="sxs-lookup"><span data-stu-id="e208b-403">**VMMap**</span></span>|<span data-ttu-id="e208b-404">仮想アドレス空間を走査し、各領域に適用されている保護方法の種類を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-404">Traverses the virtual address space and displays the type of protection applied to each region.</span></span>|
|<span data-ttu-id="e208b-405">**VMStat**</span><span class="sxs-lookup"><span data-stu-id="e208b-405">**VMStat**</span></span>|<span data-ttu-id="e208b-406">仮想アドレス空間の概要を、そのメモリに適用されている保護方法の種類 (保護なし、予約済み、コミット、プライベート、割り当て済み、イメージ) の順に表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-406">Provides a summary view of the virtual address space, ordered by each type of protection applied to that memory (free, reserved, committed, private, mapped, image).</span></span> <span data-ttu-id="e208b-407">AVERAGE 列に BLK COUNT 列を掛けた結果が TOTAL 列に表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-407">The TOTAL column displays the result of the AVERAGE column multiplied by the BLK COUNT column.</span></span>|

## <a name="remarks"></a><span data-ttu-id="e208b-408">Remarks</span><span class="sxs-lookup"><span data-stu-id="e208b-408">Remarks</span></span>

<span data-ttu-id="e208b-409">SOS デバッガー拡張を使用すると、CLR 内部で実行しているコードに関する情報を表示できます。</span><span class="sxs-lookup"><span data-stu-id="e208b-409">The SOS Debugging Extension lets you view information about code that is running inside the CLR.</span></span> <span data-ttu-id="e208b-410">たとえば、SOS デバッガー拡張を使用して、マネージド ヒープに関する情報の表示、ヒープ破損の検索、ランタイムが使用している内部データ型の表示、およびランタイム内部で実行しているすべてのマネージド コードに関する情報の表示を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="e208b-410">For example, you can use the SOS Debugging Extension to display information about the managed heap, look for heap corruptions, display internal data types used by the runtime, and view information about all managed code running inside the runtime.</span></span>

<span data-ttu-id="e208b-411">Visual Studio で SOS デバッガー拡張を使用するには、[Windows ドライバー開発キット (WDK)](/windows-hardware/drivers/download-the-wdk) をインストールします。</span><span class="sxs-lookup"><span data-stu-id="e208b-411">To use the SOS Debugging Extension in Visual Studio, install the [Windows Driver Kit (WDK)](/windows-hardware/drivers/download-the-wdk).</span></span> <span data-ttu-id="e208b-412">Visual Studio の統合デバッグ環境については、「[Debugging Environments (デバッグ環境)](/windows-hardware/drivers/debugger/debuggers-in-the-debugging-tools-for-windows-package)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e208b-412">For information about the integrated debugging environment in Visual Studio, see [Debugging Environments](/windows-hardware/drivers/debugger/debuggers-in-the-debugging-tools-for-windows-package).</span></span>

<span data-ttu-id="e208b-413">SOS デバッガー拡張は、[WinDbg.exe デバッガー](/windows-hardware/drivers/debugger/debugger-download-tools)に読み込み、WinDbg.exe でコマンドを実行することで使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="e208b-413">You can also use the SOS Debugging Extension by loading it into the [WinDbg.exe debugger](/windows-hardware/drivers/debugger/debugger-download-tools) and executing commands within WinDbg.exe.</span></span>

<span data-ttu-id="e208b-414">WinDbg.exe デバッガーに SOS デバッガー拡張を読み込むには、ツールで次のコマンドを実行します。</span><span class="sxs-lookup"><span data-stu-id="e208b-414">To load the SOS Debugging Extension into the WinDbg.exe debugger, run the following command in the tool:</span></span>

```console
.loadby sos clr
```

<span data-ttu-id="e208b-415">WinDbg.exe と Visual Studio は、現在使用している Mscorwks.dll のバージョンに対応する SOS.dll のバージョンを使用します。</span><span class="sxs-lookup"><span data-stu-id="e208b-415">WinDbg.exe and Visual Studio use a version of SOS.dll that corresponds to the version of Mscorwks.dll currently in use.</span></span> <span data-ttu-id="e208b-416">既定では、Mscorwks.dll の現在のバージョンに一致する SOS.dll のバージョンを使用することになります。</span><span class="sxs-lookup"><span data-stu-id="e208b-416">By default, you should use the version of SOS.dll that matches the current version of Mscorwks.dll.</span></span>

<span data-ttu-id="e208b-417">別のコンピューターで作成されたダンプ ファイルを使用するには、そのインストールに付属していた Mscorwks.dll ファイルが現在のコンピューターのシンボル パスにあることを確認し、対応するバージョンの SOS.dll を読み込みます。</span><span class="sxs-lookup"><span data-stu-id="e208b-417">To use a dump file created on another computer, make sure that the Mscorwks.dll file that came with that installation is in your symbol path, and load the corresponding version of SOS.dll.</span></span>

<span data-ttu-id="e208b-418">特定のバージョンの SOS.dll を読み込むには、Windows デバッガーに次のコマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="e208b-418">To load a specific version of SOS.dll, type the following command into the Windows Debugger:</span></span>

```console
.load <full path to sos.dll>
```

## <a name="examples"></a><span data-ttu-id="e208b-419">使用例</span><span class="sxs-lookup"><span data-stu-id="e208b-419">Examples</span></span>

<span data-ttu-id="e208b-420">次のコマンドは、アドレス `00ad28d0` にある配列の内容を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-420">The following command displays the contents of an array at the address `00ad28d0`.</span></span>  <span data-ttu-id="e208b-421">2 番目の要素およびそれ以降にある合計 5 つの要素が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e208b-421">The display starts from the second element and continues for five elements.</span></span>

```console
!dumparray -start 2 -length 5 -detail 00ad28d0
```

<span data-ttu-id="e208b-422">次のコマンドは、アドレス `1ca248` にあるアセンブリの内容を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-422">The following command displays the contents of an assembly at the address `1ca248`.</span></span>

```console
!dumpassembly 1ca248
```

<span data-ttu-id="e208b-423">次のコマンドは、ガベージ コレクター ヒープに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-423">The following command displays information about the garbage collector heap.</span></span>

```console
!dumpheap
```

<span data-ttu-id="e208b-424">次のコマンドは、メモリ内ストレス ログの内容を、現在のディレクトリ内にある StressLog.txt という名前の (既定の) ファイルに書き込みます。</span><span class="sxs-lookup"><span data-stu-id="e208b-424">The following command writes the contents of the in-memory stress log to a (default) file called StressLog.txt in the current directory.</span></span>

```console
!DumpLog
```

<span data-ttu-id="e208b-425">次のコマンドは、アドレス `MethodDesc` にある `902f40` 構造体を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-425">The following command displays the `MethodDesc` structure at the address `902f40`.</span></span>

```console
!dumpmd 902f40
```

<span data-ttu-id="e208b-426">次のコマンドは、アドレス `1caa50` にあるモジュールに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-426">The following command displays information about a module at the address `1caa50`.</span></span>

```console
!dumpmodule 1caa50
```

<span data-ttu-id="e208b-427">次のコマンドは、アドレス `a79d40` にあるオブジェクトに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-427">The following command displays information about an object at the address `a79d40`.</span></span>

```console
!DumpObj a79d40
```

<span data-ttu-id="e208b-428">次のコマンドは、アドレス `00a79d9c` にあるメソッド テーブルを使用して、アドレス `0090320c` にある値クラスのフィールドを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-428">The following command displays the fields of a value class at the address `00a79d9c` using the method table at the address `0090320c`.</span></span>

```console
!DumpVC 0090320c 00a79d9c
```

<span data-ttu-id="e208b-429">次のコマンドは、ガベージ コレクターによって使用されるプロセス メモリを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-429">The following command displays the process memory used by the garbage collector.</span></span>

```console
!eeheap -gc
```

<span data-ttu-id="e208b-430">次のコマンドは、完了の目的でスケジュールされているすべてのオブジェクトを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-430">The following command displays all objects scheduled for finalization.</span></span>

```console
!finalizequeue
```

<span data-ttu-id="e208b-431">次のコマンドは、アドレス `00a79d98` にあるオブジェクトのアプリケーション ドメインを確認します。</span><span class="sxs-lookup"><span data-stu-id="e208b-431">The following command determines the application domain of an object at the address `00a79d98`.</span></span>

```console
!findappdomain 00a79d98
```

<span data-ttu-id="e208b-432">次のコマンドは、現在のプロセス内のすべてのガベージ コレクター ハンドルを表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-432">The following command displays all garbage collector handles in the current process.</span></span>

```console
!gcinfo 5b68dbb8
```

<span data-ttu-id="e208b-433">次のコマンドは、`MethodTable` モジュールにある `EEClass` クラスの `Main` メソッドの `MainClass` 構造体および `unittest.exe` 構造体を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-433">The following command displays the `MethodTable` and `EEClass` structures for the `Main` method in the class `MainClass` in the module `unittest.exe`.</span></span>

```console
!name2ee unittest.exe MainClass.Main
```

<span data-ttu-id="e208b-434">次のコマンドは、`02000003` モジュールのアドレス `unittest.exe` にあるメタデータ トークンに関する情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="e208b-434">The following command displays information about the metadata token at the address `02000003` in the module `unittest.exe`.</span></span>

```console
!token2ee unittest.exe 02000003
```

## <a name="see-also"></a><span data-ttu-id="e208b-435">関連項目</span><span class="sxs-lookup"><span data-stu-id="e208b-435">See also</span></span>

- [<span data-ttu-id="e208b-436">ツール</span><span class="sxs-lookup"><span data-stu-id="e208b-436">Tools</span></span>](index.md)
- [<span data-ttu-id="e208b-437">開発者コマンドライン シェル</span><span class="sxs-lookup"><span data-stu-id="e208b-437">Developer command-line shells</span></span>](/visualstudio/ide/reference/command-prompt-powershell)
