---
title: サービスとクライアントを構成するためのバインディングの使用
description: バインディングには、WFC クライアントまたはサービスで使用される構成情報が含まれます。 バインディングを定義する方法と、サービス エンドポイントのバインディングを指定する方法について説明します。
ms.date: 03/30/2017
helpviewer_keywords:
- bindings [WCF], using
ms.assetid: c39479c3-0766-4a17-ba4c-97a74607f392
ms.openlocfilehash: 38fa4a928c74f9fff7b67f2479f9304331361fef
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/26/2020
ms.locfileid: "96289881"
---
# <a name="using-bindings-to-configure-services-and-clients"></a><span data-ttu-id="4075b-104">サービスとクライアントを構成するためのバインディングの使用</span><span class="sxs-lookup"><span data-stu-id="4075b-104">Using Bindings to Configure Services and Clients</span></span>

<span data-ttu-id="4075b-105">バインディングとは、エンドポイントへの接続に必要な通信の詳細設定を指定するオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="4075b-105">Bindings are objects that specify the communication details required to connect to an endpoint.</span></span> <span data-ttu-id="4075b-106">具体的には、バインディングには構成情報が含まれており、この情報を使用してそれぞれのエンドポイントまたはクライアント チャネルで使用されるトランスポート仕様、ワイヤ形式 (メッセージ エンコード) 仕様、プロトコル仕様が定義され、クライアントまたはサービスのランタイムが作成されます。</span><span class="sxs-lookup"><span data-stu-id="4075b-106">More specifically, bindings contain configuration information that is used to create the client or service runtime by defining the specifics of transports, wire-formats (message encoding), and protocols to use for the respective endpoint or client channel.</span></span> <span data-ttu-id="4075b-107">機能する Windows Communication Foundation (WCF) サービスを作成するには、サービスの各エンドポイントにバインディングが必要です。</span><span class="sxs-lookup"><span data-stu-id="4075b-107">To create a functioning Windows Communication Foundation (WCF) service, each endpoint in the service requires a binding.</span></span> <span data-ttu-id="4075b-108">ここでは、エンドポイントにおけるバインディングの概要と定義方法、特定のバインディングの指定方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="4075b-108">This topic explains what bindings are, how they are defined, and how a particular binding is specified for an endpoint.</span></span>  
  
## <a name="what-a-binding-defines"></a><span data-ttu-id="4075b-109">バインディングの定義内容</span><span class="sxs-lookup"><span data-stu-id="4075b-109">What a Binding Defines</span></span>  

 <span data-ttu-id="4075b-110">バインディングの情報は、非常に基本的な情報にすることも複雑なものにすることもできます。</span><span class="sxs-lookup"><span data-stu-id="4075b-110">The information in a binding can be very basic or very complex.</span></span> <span data-ttu-id="4075b-111">最も基本的なバインディングはトランスポート プロトコル (HTTP など) のみを指定したもので、これはエンドポイントへの接続に必ず使用します。</span><span class="sxs-lookup"><span data-stu-id="4075b-111">The most basic binding specifies only the transport protocol (such as HTTP) that must be used to connect to the endpoint.</span></span> <span data-ttu-id="4075b-112">一般的に、バインディングに含まれるエンドポイントへの接続方法を示す情報は、次のカテゴリのいずれかに当てはまります。</span><span class="sxs-lookup"><span data-stu-id="4075b-112">More generally, the information a binding contains about how to connect to an endpoint falls into one of the categories in the following table.</span></span>  
  
 <span data-ttu-id="4075b-113">プロトコル</span><span class="sxs-lookup"><span data-stu-id="4075b-113">Protocols</span></span>  
 <span data-ttu-id="4075b-114">使用されているセキュリティ機構 (信頼性の高いメッセージング機能またはトランザクション コンテキストのフロー設定のいずれか) を決定します。</span><span class="sxs-lookup"><span data-stu-id="4075b-114">Determines the security mechanism being used, either reliable messaging capability or transaction context flow settings.</span></span>  
  
 <span data-ttu-id="4075b-115">トランスポート</span><span class="sxs-lookup"><span data-stu-id="4075b-115">Transport</span></span>  
 <span data-ttu-id="4075b-116">使用する基本のトランスポート プロトコル (TCP や HTTP など) を決定します。</span><span class="sxs-lookup"><span data-stu-id="4075b-116">Determines the underlying transport protocol to use (for example, TCP or HTTP).</span></span>  
  
 <span data-ttu-id="4075b-117">Encoding</span><span class="sxs-lookup"><span data-stu-id="4075b-117">Encoding</span></span>  
 <span data-ttu-id="4075b-118">メッセージ エンコード (Text/XML、バイナリ、MTOM (Message Transmission Optimization Mechanism) など) を決定します。これは、メッセージをネットワーク上のバイト ストリームとしてどのように表現するかを決定します。</span><span class="sxs-lookup"><span data-stu-id="4075b-118">Determines the message encoding, for example, text/XML, binary, or Message Transmission Optimization Mechanism (MTOM), which determines how messages are represented as byte streams on the wire.</span></span>  
  
## <a name="system-provided-bindings"></a><span data-ttu-id="4075b-119">システム標準のバインディング</span><span class="sxs-lookup"><span data-stu-id="4075b-119">System-Provided Bindings</span></span>  

 <span data-ttu-id="4075b-120">WCF に用意されているシステム指定の一連のバインディングは、一般的なアプリケーションの要件とシナリオに対応するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="4075b-120">WCF includes a set of system-provided bindings that are designed to cover most application requirements and scenarios.</span></span> <span data-ttu-id="4075b-121">システム指定のバインディングの例のいくつかを次のクラスで示します。</span><span class="sxs-lookup"><span data-stu-id="4075b-121">The following classes represent some examples of system-provided bindings:</span></span>  
  
- <span data-ttu-id="4075b-122"><xref:System.ServiceModel.BasicHttpBinding> : WS-I Basic Profile 1.1 仕様に準拠する Web サービス (ASP.NET Web サービス (ASMX) ベースのサービスなど) への接続に適した HTTP プロトコル バインディング。</span><span class="sxs-lookup"><span data-stu-id="4075b-122"><xref:System.ServiceModel.BasicHttpBinding>: An HTTP protocol binding suitable for connecting to Web services that conforms to the WS-I Basic Profile 1.1 specification (for example, ASP.NET Web services [ASMX]-based services).</span></span>  
  
- <span data-ttu-id="4075b-123"><xref:System.ServiceModel.WSHttpBinding> : Web サービス仕様のプロトコルに準拠するエンドポイントへの接続に適した HTTP プロトコル バインディング。</span><span class="sxs-lookup"><span data-stu-id="4075b-123"><xref:System.ServiceModel.WSHttpBinding>: An HTTP protocol binding suitable for connecting to endpoints that conform to the Web services specifications protocols.</span></span>  
  
- <span data-ttu-id="4075b-124"><xref:System.ServiceModel.NetNamedPipeBinding>: .NET バイナリ エンコードとフレーム技術を Windows 名前付きパイプ トランスポートと組み合わせて使用し、同じコンピューター上の他の WCF エンドポイントに接続します。</span><span class="sxs-lookup"><span data-stu-id="4075b-124"><xref:System.ServiceModel.NetNamedPipeBinding>: Uses the .NET binary encoding and framing technologies in conjunction with the Windows named pipe transport to connect to other WCF endpoints on the same machine.</span></span>  
  
- <span data-ttu-id="4075b-125"><xref:System.ServiceModel.NetMsmqBinding>: .NET バイナリ エンコードとフレーム技術を Message Queuing (MSMQ) と組み合わせて使用し、キューに置かれたメッセージと他の WCF エンドポイントとの接続を作成します。</span><span class="sxs-lookup"><span data-stu-id="4075b-125"><xref:System.ServiceModel.NetMsmqBinding>: Uses the .NET binary encoding and framing technologies in conjunction with the Message Queuing (also known as MSMQ) to create queued message connections with other WCF endpoints.</span></span>  
  
 <span data-ttu-id="4075b-126">システム指定のバインディングの完全な一覧と説明については、「[システム指定のバインド](system-provided-bindings.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="4075b-126">For a complete list of system-provided bindings, with descriptions, see [System-Provided Bindings](system-provided-bindings.md).</span></span>  
  
## <a name="custom-bindings"></a><span data-ttu-id="4075b-127">カスタム バインディング</span><span class="sxs-lookup"><span data-stu-id="4075b-127">Custom Bindings</span></span>  

 <span data-ttu-id="4075b-128">システム指定のバインディング コレクションに、サービス アプリケーションに必要な機能の適切な組み合わせが含まれていない場合は、<xref:System.ServiceModel.Channels.CustomBinding> バインディングを作成できます。</span><span class="sxs-lookup"><span data-stu-id="4075b-128">If the system-provided binding collection does not have the correct combination of features that a service application requires, you can create a <xref:System.ServiceModel.Channels.CustomBinding> binding.</span></span> <span data-ttu-id="4075b-129"><xref:System.ServiceModel.Channels.CustomBinding> バインディングの要素の詳細については、「[\<customBinding>](../configure-apps/file-schema/wcf/custombinding.md)」および「[カスタム バインディング](./extending/custom-bindings.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="4075b-129">For more information about the elements of a <xref:System.ServiceModel.Channels.CustomBinding> binding, see [\<customBinding>](../configure-apps/file-schema/wcf/custombinding.md) and [Custom Bindings](./extending/custom-bindings.md).</span></span>  
  
## <a name="using-bindings"></a><span data-ttu-id="4075b-130">バインディングの使用</span><span class="sxs-lookup"><span data-stu-id="4075b-130">Using Bindings</span></span>  

 <span data-ttu-id="4075b-131">バインディングを使用する際には、次の 2 つの基本手順があります。</span><span class="sxs-lookup"><span data-stu-id="4075b-131">Using bindings entails two basic steps:</span></span>  
  
1. <span data-ttu-id="4075b-132">バインディングを選択、または定義します。</span><span class="sxs-lookup"><span data-stu-id="4075b-132">Select or define a binding.</span></span> <span data-ttu-id="4075b-133">最も簡単な方法は、システム指定のバインディングを 1 つ選択し、それを既定の設定で使用することです。</span><span class="sxs-lookup"><span data-stu-id="4075b-133">The easiest method is to choose one of the system-provided bindings and use its default settings.</span></span> <span data-ttu-id="4075b-134">また、システム指定のバインディングを選択し、そのプロパティを要件に適した値に再設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="4075b-134">You can also choose a system-provided binding and reset its property values to suit your requirements.</span></span> <span data-ttu-id="4075b-135">さらに、カスタム バインドを作成し、すべてのプロパティを必要に応じて設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="4075b-135">Alternatively, you can create a custom binding and set every property as required.</span></span>  
  
2. <span data-ttu-id="4075b-136">このバインディングを使用するエンドポイントを作成します。</span><span class="sxs-lookup"><span data-stu-id="4075b-136">Create an endpoint that uses this binding.</span></span>  
  
## <a name="code-and-configuration"></a><span data-ttu-id="4075b-137">コードおよび構成</span><span class="sxs-lookup"><span data-stu-id="4075b-137">Code and Configuration</span></span>  

 <span data-ttu-id="4075b-138">バインディングは、コードまたは構成を使用して定義または構成できます。</span><span class="sxs-lookup"><span data-stu-id="4075b-138">You can define or configure bindings through code or configuration.</span></span> <span data-ttu-id="4075b-139">この 2 つの方法は使用するバインディングの種類に依存しません。たとえば、システム指定のバインディングまたは <xref:System.ServiceModel.Channels.CustomBinding> バインディングのどちらを使用していても関係ありません。</span><span class="sxs-lookup"><span data-stu-id="4075b-139">These two approaches are independent of the type of binding used, for example, whether you are using a system-provided or a <xref:System.ServiceModel.Channels.CustomBinding> binding.</span></span> <span data-ttu-id="4075b-140">一般に、コードを使用すると、コンパイル時に開発者がバインディングの定義を完全に制御できます。</span><span class="sxs-lookup"><span data-stu-id="4075b-140">In general, using code gives you complete control over the definition of a binding when you compile.</span></span> <span data-ttu-id="4075b-141">一方、構成を使用する場合は、システム管理者、または WCF サービスまたはクライアントのユーザーが、バインディングのパラメーターを変更できます。</span><span class="sxs-lookup"><span data-stu-id="4075b-141">Using configuration, on the other hand, allows a system administrator or the user of a WCF service or client to change the parameters of bindings.</span></span> <span data-ttu-id="4075b-142">WCF アプリケーションの展開先の具体的なコンピューター要件やネットワーク条件を予測する方法はないため、この柔軟性が望ましい場合が少なくありません。</span><span class="sxs-lookup"><span data-stu-id="4075b-142">This flexibility is often desirable because there is no way to predict the specific machine requirements and network conditions into which a WCF application is to be deployed.</span></span> <span data-ttu-id="4075b-143">バインディング (およびアドレス) 情報がコードから分離されているため、管理者はアプリケーションの再コンパイルや再配置を行わずにバインディングの詳細を変更できます。</span><span class="sxs-lookup"><span data-stu-id="4075b-143">Separating the binding (and addressing) information from the code allows administrators to change the binding details without having to recompile or redeploy the application.</span></span> <span data-ttu-id="4075b-144">バインディングをコードに定義した場合、構成ファイルに記述されている構成ベースの定義はすべて上書きされます。</span><span class="sxs-lookup"><span data-stu-id="4075b-144">Note that if the binding is defined in code, it overwrites any configuration-based definitions made in the configuration file.</span></span> <span data-ttu-id="4075b-145">この方法についての例は、以下のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="4075b-145">For examples of these approaches, see the following topics:</span></span>  
  
- <span data-ttu-id="4075b-146">[方法: マネージド アプリケーションでの WCF サービスのホスト](how-to-host-a-wcf-service-in-a-managed-application.md)に関する記事では、コード内でバインディングを作成する例が示されています。</span><span class="sxs-lookup"><span data-stu-id="4075b-146">[How to: Host a WCF Service in a Managed Application](how-to-host-a-wcf-service-in-a-managed-application.md) provides an example of creating a binding in code.</span></span>  
  
- <span data-ttu-id="4075b-147">「[チュートリアル: Windows Communication Foundation クライアントを作成する](how-to-create-a-wcf-client.md)」では、構成を使用してクライアントを作成する例を示しています。</span><span class="sxs-lookup"><span data-stu-id="4075b-147">[Tutorial: Create a Windows Communication Foundation client](how-to-create-a-wcf-client.md) provides an example of creating a client by using configuration.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4075b-148">関連項目</span><span class="sxs-lookup"><span data-stu-id="4075b-148">See also</span></span>

- [<span data-ttu-id="4075b-149">エンドポイントの作成の概要</span><span class="sxs-lookup"><span data-stu-id="4075b-149">Endpoint Creation Overview</span></span>](endpoint-creation-overview.md)
- [<span data-ttu-id="4075b-150">方法: 構成でサービス バインディングを指定する</span><span class="sxs-lookup"><span data-stu-id="4075b-150">How to: Specify a Service Binding in Configuration</span></span>](how-to-specify-a-service-binding-in-configuration.md)
- [<span data-ttu-id="4075b-151">方法: コード内でサービス バインディングを指定する</span><span class="sxs-lookup"><span data-stu-id="4075b-151">How to: Specify a Service Binding in Code</span></span>](how-to-specify-a-service-binding-in-code.md)
- [<span data-ttu-id="4075b-152">方法: 構成でクライアント バインディングを指定する</span><span class="sxs-lookup"><span data-stu-id="4075b-152">How to: Specify a Client Binding in Configuration</span></span>](how-to-specify-a-client-binding-in-configuration.md)
- [<span data-ttu-id="4075b-153">方法: コード内でクライアント バインディングを指定する</span><span class="sxs-lookup"><span data-stu-id="4075b-153">How to: Specify a Client Binding in Code</span></span>](how-to-specify-a-client-binding-in-code.md)
