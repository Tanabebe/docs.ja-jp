---
description: '詳細情報: XSLT エラーの解決'
title: XSLT エラーの解決
ms.date: 03/30/2017
ms.assetid: 484929b0-fefb-4629-87ee-ebdde70ff1f8
ms.openlocfilehash: 5e31059554d36efd4c8738da7720e0ddf04999c5
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/06/2021
ms.locfileid: "99783158"
---
# <a name="recoverable-xslt-errors"></a><span data-ttu-id="b4d21-103">XSLT エラーの解決</span><span class="sxs-lookup"><span data-stu-id="b4d21-103">Recoverable XSLT Errors</span></span>

<span data-ttu-id="b4d21-104">W3C 勧告『XSL Transformations (XSLT) Version 1.0』には、対処方法を実装者が決定できる事項があります。</span><span class="sxs-lookup"><span data-stu-id="b4d21-104">The W3C XSL Transformations (XSLT) Version 1.0 Recommendation includes areas in which the implementation provider may decide how to handle a situation.</span></span> <span data-ttu-id="b4d21-105">このような事項は、随意動作と見なされています。</span><span class="sxs-lookup"><span data-stu-id="b4d21-105">These areas are considered to be discretionary behavior.</span></span> <span data-ttu-id="b4d21-106">たとえば、XSLT 1.0 Recommendation は、セクション 7.3「Creating Processing Instructions」で、`xsl:processing-instruction` の内容をインスタンス化したときに、テキスト ノード以外のノードが作成されるのはエラーであるとしています。</span><span class="sxs-lookup"><span data-stu-id="b4d21-106">For example, in section 7.3 Creating Processing Instructions, the XSLT 1.0 recommendation states that it is an error if instantiating the content of `xsl:processing-instruction` creates nodes other than text nodes.</span></span> <span data-ttu-id="b4d21-107">いくつかの問題に関しては、プロセッサがエラー状態から回復するときにどのような対処をするべきかを、XSLT 1.0 Recommendation が規定しています。</span><span class="sxs-lookup"><span data-stu-id="b4d21-107">For some problems, the XSLT 1.0 recommendation indicates what decision should be made if the processor decides to recover from the error.</span></span> <span data-ttu-id="b4d21-108">セクション 7.3 に記述されている問題に関しては、W3C では、作成されたノードとその内容を無視することで、このエラーから回復できるとしています。</span><span class="sxs-lookup"><span data-stu-id="b4d21-108">For the problem given in section 7.3, the W3C says that the implementation can recover from this error by ignoring the nodes and their content.</span></span>  
  
## <a name="discretionary-behaviors"></a><span data-ttu-id="b4d21-109">随意動作</span><span class="sxs-lookup"><span data-stu-id="b4d21-109">Discretionary Behaviors</span></span>  

 <span data-ttu-id="b4d21-110">XSLT 1.0 Recommendation で許可されている随意動作と <xref:System.Xml.Xsl.XslCompiledTransform> クラスによるこれらの動作の処理方法を次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="b4d21-110">The following table lists each of the discretionary behaviors allowed by the XSLT 1.0 recommendation, and how these behaviors are handled by the <xref:System.Xml.Xsl.XslCompiledTransform> class.</span></span>  
  
- <span data-ttu-id="b4d21-111">復元は、<xref:System.Xml.Xsl.XslCompiledTransform> クラスがこのエラーから回復することを示しています。</span><span class="sxs-lookup"><span data-stu-id="b4d21-111">Recover indicates that the <xref:System.Xml.Xsl.XslCompiledTransform> class will recover from this error.</span></span> <span data-ttu-id="b4d21-112"><xref:System.Xml.Xsl.XsltArgumentList.XsltMessageEncountered?displayProperty=nameWithType> イベントを使用すると、XSLT プロセッサのすべてのイベントを通知できます。</span><span class="sxs-lookup"><span data-stu-id="b4d21-112">The <xref:System.Xml.Xsl.XsltArgumentList.XsltMessageEncountered?displayProperty=nameWithType> event can be used to report any events from the XSLT processor.</span></span>  
  
- <span data-ttu-id="b4d21-113">エラーは、この状態に対する例外が発生したことを示します。</span><span class="sxs-lookup"><span data-stu-id="b4d21-113">Error indicates that an exception is raised for this condition.</span></span>  
  
- <span data-ttu-id="b4d21-114">詳細については、[W3C の XSL Transformations (XSLT) Version 1.0 勧告](https://www.w3.org/TR/xslt)に関するページと [W3C の「XSL Transformations (XSLT) Version 1.0 Specification Errata」(XSL Transformations (XSLT) Version 1.0 仕様の正誤表)](https://www.w3.org/1999/11/REC-xslt-19991116-errata/) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b4d21-114">The section references can be found in the [W3C XSL Transformations (XSLT) Version 1.0 Recommendation](https://www.w3.org/TR/xslt) and the [W3C XSL Transformations (XSLT) Version 1.0 Specification Errata](https://www.w3.org/1999/11/REC-xslt-19991116-errata/).</span></span>  
  
|<span data-ttu-id="b4d21-115">XSLT の状態</span><span class="sxs-lookup"><span data-stu-id="b4d21-115">XSLT condition</span></span>|<span data-ttu-id="b4d21-116">セクション</span><span class="sxs-lookup"><span data-stu-id="b4d21-116">Section</span></span>|<span data-ttu-id="b4d21-117">XslCompiledTransform の動作</span><span class="sxs-lookup"><span data-stu-id="b4d21-117">XslCompiledTransform behavior</span></span>|  
|--------------------|-------------|-----------------------------------|  
|<span data-ttu-id="b4d21-118">テキスト ノードが `xsl:strip-space` と `xsl:preserve-space` の両方に適合している。</span><span class="sxs-lookup"><span data-stu-id="b4d21-118">A text node matches both `xsl:strip-space` and `xsl:preserve-space`.</span></span>|<span data-ttu-id="b4d21-119">3.4</span><span class="sxs-lookup"><span data-stu-id="b4d21-119">3.4</span></span>|<span data-ttu-id="b4d21-120">復元</span><span class="sxs-lookup"><span data-stu-id="b4d21-120">Recover</span></span>|  
|<span data-ttu-id="b4d21-121">ソース ノードが複数のテンプレート規則に適合している。</span><span class="sxs-lookup"><span data-stu-id="b4d21-121">A source node matches more than one template rule.</span></span>|<span data-ttu-id="b4d21-122">5.5</span><span class="sxs-lookup"><span data-stu-id="b4d21-122">5.5</span></span>|<span data-ttu-id="b4d21-123">復元</span><span class="sxs-lookup"><span data-stu-id="b4d21-123">Recover</span></span>|  
|<span data-ttu-id="b4d21-124">1 つの名前空間 URI が同じインポート優先順位を持つ複数の名前空間 URI のエイリアスとして宣言されている。</span><span class="sxs-lookup"><span data-stu-id="b4d21-124">A namespace URI is declared to be an alias for multiple namespace URIs, all having the same import precedence.</span></span>|<span data-ttu-id="b4d21-125">7.1.1</span><span class="sxs-lookup"><span data-stu-id="b4d21-125">7.1.1</span></span>|<span data-ttu-id="b4d21-126">復元</span><span class="sxs-lookup"><span data-stu-id="b4d21-126">Recover</span></span>|  
|<span data-ttu-id="b4d21-127">属性値から生成された `name` と `xsl:attribute` 内の `xsl:element` 属性が QName ではない。</span><span class="sxs-lookup"><span data-stu-id="b4d21-127">The `name` attribute in `xsl:attribute` and `xsl:element` generated from an attribute value is not a QName.</span></span>|<span data-ttu-id="b4d21-128">7.1.2, 7.1.3</span><span class="sxs-lookup"><span data-stu-id="b4d21-128">7.1.2, 7.1.3</span></span>|<span data-ttu-id="b4d21-129">エラー\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-129">Error\*</span></span>|  
|<span data-ttu-id="b4d21-130">同じインポートおよび展開名を持つ 2 つの属性セットに共通の属性が含まれており、これらの属性セット以外に、同じ名前で優先順位の高い共通属性を含む属性セットがない。</span><span class="sxs-lookup"><span data-stu-id="b4d21-130">Two attribute sets with the same import and expanded-name have an attribute in common and there is no other attribute set containing the common attribute having the same name with higher importance.</span></span>|<span data-ttu-id="b4d21-131">7.1.4</span><span class="sxs-lookup"><span data-stu-id="b4d21-131">7.1.4</span></span>|<span data-ttu-id="b4d21-132">復元</span><span class="sxs-lookup"><span data-stu-id="b4d21-132">Recover</span></span>|  
|<span data-ttu-id="b4d21-133">要素に子が既に追加されているにもかかわらず、その要素に属性が追加される。</span><span class="sxs-lookup"><span data-stu-id="b4d21-133">Adding an attribute to an element after children have been added to it.</span></span>|<span data-ttu-id="b4d21-134">7.1.3</span><span class="sxs-lookup"><span data-stu-id="b4d21-134">7.1.3</span></span>|<span data-ttu-id="b4d21-135">エラー\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-135">Error\*</span></span>|  
|<span data-ttu-id="b4d21-136">'xmlns' という名前を持つ属性が作成される。</span><span class="sxs-lookup"><span data-stu-id="b4d21-136">Creating an attribute with the name 'xmlns'</span></span>|<span data-ttu-id="b4d21-137">7.1.3</span><span class="sxs-lookup"><span data-stu-id="b4d21-137">7.1.3</span></span>|<span data-ttu-id="b4d21-138">エラー\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-138">Error\*</span></span>|  
|<span data-ttu-id="b4d21-139">要素ではないノードに属性が追加される。</span><span class="sxs-lookup"><span data-stu-id="b4d21-139">Adding an attribute to a node that is not an element.</span></span>|<span data-ttu-id="b4d21-140">7.1.3</span><span class="sxs-lookup"><span data-stu-id="b4d21-140">7.1.3</span></span>|<span data-ttu-id="b4d21-141">エラー\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-141">Error\*</span></span>|  
|<span data-ttu-id="b4d21-142">`xsl:attribute` 属性の内容をインスタンス化する際にテキスト ノード以外のノードが作成される。</span><span class="sxs-lookup"><span data-stu-id="b4d21-142">Creating nodes other than text nodes during the instantiation of the content of the `xsl:attribute` attribute.</span></span>|<span data-ttu-id="b4d21-143">7.1.3</span><span class="sxs-lookup"><span data-stu-id="b4d21-143">7.1.3</span></span>|<span data-ttu-id="b4d21-144">エラー\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-144">Error\*</span></span>|  
|<span data-ttu-id="b4d21-145">`name` の `xsl:processing-instruction` 属性が NCName と処理命令ターゲットのどちらも生成しない。</span><span class="sxs-lookup"><span data-stu-id="b4d21-145">The `name` attribute of an `xsl:processing-instruction` does not yield both an NCName and a processing instruction target.</span></span>|<span data-ttu-id="b4d21-146">7.3</span><span class="sxs-lookup"><span data-stu-id="b4d21-146">7.3</span></span>|<span data-ttu-id="b4d21-147">エラー\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-147">Error\*</span></span>|  
|<span data-ttu-id="b4d21-148">`xsl:processing-instruction` の内容をインスタンス化すると、テキスト ノード以外のノードが作成される。</span><span class="sxs-lookup"><span data-stu-id="b4d21-148">Instantiating the content of `xsl:processing-instruction` creates nodes other than text nodes.</span></span>|<span data-ttu-id="b4d21-149">7.3</span><span class="sxs-lookup"><span data-stu-id="b4d21-149">7.3</span></span>|<span data-ttu-id="b4d21-150">エラー\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-150">Error\*</span></span>|  
|<span data-ttu-id="b4d21-151">`xsl:processing-instruction` の内容をインスタンス化した結果に文字列 "?&gt;" が含まれている。</span><span class="sxs-lookup"><span data-stu-id="b4d21-151">The result of instantiating the content of the `xsl:processing-instruction` contains the string "?>"</span></span>|<span data-ttu-id="b4d21-152">7.3</span><span class="sxs-lookup"><span data-stu-id="b4d21-152">7.3</span></span>|<span data-ttu-id="b4d21-153">復元</span><span class="sxs-lookup"><span data-stu-id="b4d21-153">Recover</span></span>|  
|<span data-ttu-id="b4d21-154">`xsl:processing-instruction` の内容をインスタンス化した結果に文字列 "--" が含まれているか、または "-" で終了している。</span><span class="sxs-lookup"><span data-stu-id="b4d21-154">The result of instantiating the content of the `xsl:processing-instruction` contains the string "--" or ends with "-".</span></span>|<span data-ttu-id="b4d21-155">7.4</span><span class="sxs-lookup"><span data-stu-id="b4d21-155">7.4</span></span>|<span data-ttu-id="b4d21-156">復元</span><span class="sxs-lookup"><span data-stu-id="b4d21-156">Recover</span></span>|  
|<span data-ttu-id="b4d21-157">`xsl:comment` の内容をインスタンス化した結果、テキスト ノード以外のノードが作成される。</span><span class="sxs-lookup"><span data-stu-id="b4d21-157">The result of instantiating the content of the `xsl:comment` creates nodes other than text nodes.</span></span>|<span data-ttu-id="b4d21-158">7.4</span><span class="sxs-lookup"><span data-stu-id="b4d21-158">7.4</span></span>|<span data-ttu-id="b4d21-159">エラー\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-159">Error\*</span></span>|  
|<span data-ttu-id="b4d21-160">変数バインディング要素内のテンプレートが属性ノードまたは名前空間ノードを返す。</span><span class="sxs-lookup"><span data-stu-id="b4d21-160">The template within a variable-binding element returns an attribute node or a namespace node.</span></span>|<span data-ttu-id="b4d21-161">11.2</span><span class="sxs-lookup"><span data-stu-id="b4d21-161">11.2</span></span>|<span data-ttu-id="b4d21-162">エラー\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-162">Error\*</span></span>|  
|<span data-ttu-id="b4d21-163">document 関数に渡された URI からのリソースの取得時にエラーが発生する。</span><span class="sxs-lookup"><span data-stu-id="b4d21-163">There is an error retrieving the resource from the URI passed into the document function.</span></span>|<span data-ttu-id="b4d21-164">12.1</span><span class="sxs-lookup"><span data-stu-id="b4d21-164">12.1</span></span>|<span data-ttu-id="b4d21-165">Error</span><span class="sxs-lookup"><span data-stu-id="b4d21-165">Error</span></span>|  
|<span data-ttu-id="b4d21-166">document 関数内の URI 参照にフラグメント ID が含まれており、その ID を処理するとエラーが発生する。</span><span class="sxs-lookup"><span data-stu-id="b4d21-166">The URI reference in the document function contains a fragment identifier and there is an error processing the fragment identifier.</span></span>|<span data-ttu-id="b4d21-167">12.1</span><span class="sxs-lookup"><span data-stu-id="b4d21-167">12.1</span></span>|<span data-ttu-id="b4d21-168">復元\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-168">Recover\*</span></span>|  
|<span data-ttu-id="b4d21-169">同じ名前とさまざまな値を持つ複数の属性があり、これらの属性が同じインポート優先順位を持つ `xsl:output` の名前付き cdata-section 要素にならない。</span><span class="sxs-lookup"><span data-stu-id="b4d21-169">There are multiple attributes with the same name, but different values, that are not named cdata-section elements in `xsl:output` with the same import precedence.</span></span>|<span data-ttu-id="b4d21-170">16</span><span class="sxs-lookup"><span data-stu-id="b4d21-170">16</span></span>|<span data-ttu-id="b4d21-171">復元</span><span class="sxs-lookup"><span data-stu-id="b4d21-171">Recover</span></span>|  
|<span data-ttu-id="b4d21-172">プロセッサが `xsl:output` の encoding 属性のエンコーディングをサポートしない。</span><span class="sxs-lookup"><span data-stu-id="b4d21-172">The processor does not support the encoding in the `xsl:output` encoding attribute.</span></span>|<span data-ttu-id="b4d21-173">16.1</span><span class="sxs-lookup"><span data-stu-id="b4d21-173">16.1</span></span>|<span data-ttu-id="b4d21-174">復元</span><span class="sxs-lookup"><span data-stu-id="b4d21-174">Recover</span></span>|  
|<span data-ttu-id="b4d21-175">テキスト ノードの出力エスケープが無効で、そのテキスト ノードが結果ツリーのテキスト ノード以外のもののために使用されている。</span><span class="sxs-lookup"><span data-stu-id="b4d21-175">Disabling output escaping for a text node that is used for something other than a text node in the result tree.</span></span>|<span data-ttu-id="b4d21-176">16.4</span><span class="sxs-lookup"><span data-stu-id="b4d21-176">16.4</span></span>|<span data-ttu-id="b4d21-177">復元\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-177">Recover\*</span></span>|  
|<span data-ttu-id="b4d21-178">出力エスケープが有効に設定されているテキスト ノードが結果ツリー フラグメントに含まれている場合に、そのフラグメントが数値や文字列に変換される。</span><span class="sxs-lookup"><span data-stu-id="b4d21-178">Converting a result tree fragment to a number or string if the result tree fragment contains a text node with output escaping enabled.</span></span>|<span data-ttu-id="b4d21-179">16.4</span><span class="sxs-lookup"><span data-stu-id="b4d21-179">16.4</span></span>|<span data-ttu-id="b4d21-180">復元\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-180">Recover\*</span></span>|  
|<span data-ttu-id="b4d21-181">XSLT プロセッサが出力に使用しているエンコーディングで表すことができない文字に対して、出力エスケープが無効に設定される。</span><span class="sxs-lookup"><span data-stu-id="b4d21-181">Output escaping is disabled for a character that cannot be represented in the encoding that the XSLT processor is using for output.</span></span>|<span data-ttu-id="b4d21-182">16.4</span><span class="sxs-lookup"><span data-stu-id="b4d21-182">16.4</span></span>|<span data-ttu-id="b4d21-183">復元\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-183">Recover\*</span></span>|  
|<span data-ttu-id="b4d21-184">要素に子または属性が追加された後で、その要素に名前空間ノードが追加される。</span><span class="sxs-lookup"><span data-stu-id="b4d21-184">Adding a namespace node to an element after children have been added to it or after attributes have been added to it.</span></span>|<span data-ttu-id="b4d21-185">errata 25</span><span class="sxs-lookup"><span data-stu-id="b4d21-185">errata 25</span></span>|<span data-ttu-id="b4d21-186">エラー\*</span><span class="sxs-lookup"><span data-stu-id="b4d21-186">Error\*</span></span>|  
|<span data-ttu-id="b4d21-187">`value` の `xsl:number` 属性が NAN、無限、または 0.5 未満である。</span><span class="sxs-lookup"><span data-stu-id="b4d21-187">The `value` attribute of an `xsl:number` is NAN, infinite or less than 0.5</span></span>|<span data-ttu-id="b4d21-188">errata 24</span><span class="sxs-lookup"><span data-stu-id="b4d21-188">errata 24</span></span>|<span data-ttu-id="b4d21-189">復元</span><span class="sxs-lookup"><span data-stu-id="b4d21-189">Recover</span></span>|  
|<span data-ttu-id="b4d21-190">document 関数への 2 番目の引数ノード セットが空であり、URI 参照が相対 URI 参照である。</span><span class="sxs-lookup"><span data-stu-id="b4d21-190">The second argument node-set to the document function is empty and the URI reference is relative.</span></span>|<span data-ttu-id="b4d21-191">errata 14</span><span class="sxs-lookup"><span data-stu-id="b4d21-191">errata 14</span></span>|<span data-ttu-id="b4d21-192">復元</span><span class="sxs-lookup"><span data-stu-id="b4d21-192">Recover</span></span>|  
  
 <span data-ttu-id="b4d21-193"><sup>\*</sup> この動作は、<xref:System.Xml.Xsl.XslTransform> クラスの動作とは異なります。</span><span class="sxs-lookup"><span data-stu-id="b4d21-193"><sup>\*</sup> This behavior is different than that of the <xref:System.Xml.Xsl.XslTransform> class.</span></span> <span data-ttu-id="b4d21-194">詳細については、「[XslTransform クラスの随意動作の実装](implementation-of-discretionary-behaviors-in-the-xsltransform-class.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b4d21-194">For more information, see [Implementation of Discretionary Behaviors in the XslTransform Class](implementation-of-discretionary-behaviors-in-the-xsltransform-class.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b4d21-195">関連項目</span><span class="sxs-lookup"><span data-stu-id="b4d21-195">See also</span></span>

- [<span data-ttu-id="b4d21-196">XSLT 変換</span><span class="sxs-lookup"><span data-stu-id="b4d21-196">XSLT Transformations</span></span>](xslt-transformations.md)
