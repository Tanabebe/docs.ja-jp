---
title: Visual Studio で Roslyn Syntax Visualizer を使ってコードを調べる
description: Syntax Visualizer は、.NET Compiler Platform SDK がコード用に生成したモデルを調べるためのビジュアル ツールを提供します。
ms.date: 03/07/2018
ms.custom: mvc, vs-dotnet
ms.openlocfilehash: 43c69bce93db490fccc3500784623f5736ed935d
ms.sourcegitcommit: 46cfed35d79d70e08c313b9c664c7e76babab39e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/10/2021
ms.locfileid: "102605426"
---
# <a name="explore-code-with-the-roslyn-syntax-visualizer-in-visual-studio"></a><span data-ttu-id="e47f7-103">Visual Studio で Roslyn Syntax Visualizer を使ってコードを調べる</span><span class="sxs-lookup"><span data-stu-id="e47f7-103">Explore code with the Roslyn syntax visualizer in Visual Studio</span></span>

<span data-ttu-id="e47f7-104">この記事では、.NET Compiler Platform ("Roslyn") SDK の一部として同梱されている Syntax Visualizer ツールの概要を説明します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-104">This article provides an overview of the Syntax Visualizer tool that ships as part of the .NET Compiler Platform ("Roslyn") SDK.</span></span> <span data-ttu-id="e47f7-105">Syntax Visualizer は、構文ツリーを検査および調査するときに役立つツール ウィンドウです。</span><span class="sxs-lookup"><span data-stu-id="e47f7-105">The Syntax Visualizer is a tool window that helps you inspect and explore syntax trees.</span></span> <span data-ttu-id="e47f7-106">これは、分析するコードのモデルを理解するために欠かせないツールです。</span><span class="sxs-lookup"><span data-stu-id="e47f7-106">It's an essential tool to understand the models for code you want to analyze.</span></span> <span data-ttu-id="e47f7-107">.NET Compiler Platform (“Roslyn”) SDK を使用して、独自のアプリケーションを開発するときのデバッグにも役立ちます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-107">It's also a debugging aid when you develop your own applications using the .NET Compiler Platform (“Roslyn”) SDK.</span></span> <span data-ttu-id="e47f7-108">最初のアナライザーを作成するときに、このツールを開きます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-108">Open this tool as you create your first analyzers.</span></span> <span data-ttu-id="e47f7-109">この Visualizer は、API で使用されるモデルを理解するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-109">The visualizer helps you understand the models used by the APIs.</span></span> <span data-ttu-id="e47f7-110">[SharpLab](https://sharplab.io) や [LINQPad](https://www.linqpad.net/) などのツールを使用しても、コードを調査し、構文ツリーを理解することができます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-110">You can also use tools like [SharpLab](https://sharplab.io) or [LINQPad](https://www.linqpad.net/) to inspect code and understand syntax trees.</span></span>

[!INCLUDE[interactive-note](~/includes/roslyn-installation.md)]

<span data-ttu-id="e47f7-111">「[.NET Compiler Platform SDK の概念とオブジェクト モデル](compiler-api-model.md)」の記事を読んで、.NET Compiler Platform SDK で使われている概念をよく理解してください。</span><span class="sxs-lookup"><span data-stu-id="e47f7-111">Familiarize yourself with the concepts used in the .NET Compiler Platform SDK by reading the [overview](compiler-api-model.md) article.</span></span> <span data-ttu-id="e47f7-112">この記事では、構文ツリー、ノード、トークン、およびトリビアについて説明されています。</span><span class="sxs-lookup"><span data-stu-id="e47f7-112">It provides an introduction to syntax trees, nodes, tokens, and trivia.</span></span>

## <a name="syntax-visualizer"></a><span data-ttu-id="e47f7-113">Syntax Visualizer</span><span class="sxs-lookup"><span data-stu-id="e47f7-113">Syntax Visualizer</span></span>

<span data-ttu-id="e47f7-114">**Syntax Visualizer** を使用すると、Visual Studio IDE 内の現在アクティブなエディター ウィンドウで、C# または Visual Basic のコード ファイルの構文ツリーを検査できます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-114">The **Syntax Visualizer** enables inspection of the syntax tree for the C# or Visual Basic code file in the current active editor window inside the Visual Studio IDE.</span></span> <span data-ttu-id="e47f7-115">Syntax Visualizer を起動するには、 **[ビュー]**  >  **[その他のウィンドウ]**  >  **[Syntax Visualizer]** の順にクリックします。</span><span class="sxs-lookup"><span data-stu-id="e47f7-115">The visualizer can be launched by clicking on **View** > **Other Windows** > **Syntax Visualizer**.</span></span>  <span data-ttu-id="e47f7-116">右上隅の **[サイド リンク バー]** ツールバーを使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-116">You can also use the **Quick Launch** toolbar in the upper right corner.</span></span> <span data-ttu-id="e47f7-117">「syntax」と開くコマンドを入力すると、**Syntax Visualizer** が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-117">Type "syntax", and the command to open the **Syntax Visualizer** should appear.</span></span>

<span data-ttu-id="e47f7-118">このコマンドにより、Syntax Visualizer がフローティング ツール ウィンドウとして開きます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-118">This command opens the Syntax Visualizer as a floating tool window.</span></span> <span data-ttu-id="e47f7-119">開いているコード エディター ウィンドウがない場合は、次の図に示すように、表示は空白になります。</span><span class="sxs-lookup"><span data-stu-id="e47f7-119">If you don't have a code editor window open, the display is blank, as shown in the following figure.</span></span>

![Syntax Visualizer ツール ウィンドウ](media/syntax-visualizer/syntax-visualizer.png)

<span data-ttu-id="e47f7-121">このツール ウィンドウを、Visual Studio 内の任意の場所 (左側など) にドッキングします。</span><span class="sxs-lookup"><span data-stu-id="e47f7-121">Dock this tool window at a convenient location inside Visual Studio, such as the left side.</span></span> <span data-ttu-id="e47f7-122">Visualizer によって、現在のコード ファイルに関する情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-122">The Visualizer shows information about the current code file.</span></span>

<span data-ttu-id="e47f7-123">**[ファイル]**  >  **[新しいプロジェクト]** コマンドを使用して、新しいプロジェクトを作成します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-123">Create a new project using the **File** > **New Project** command.</span></span> <span data-ttu-id="e47f7-124">Visual Basic または C# のプロジェクトを作成することができます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-124">You can create either a Visual Basic or C# project.</span></span> <span data-ttu-id="e47f7-125">Visual Studio でこのプロジェクトのメイン コード ファイルが開かれるときに、Visualizer によってその構文ツリーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-125">When Visual Studio opens the main code file for this project, the visualizer displays the syntax tree for it.</span></span> <span data-ttu-id="e47f7-126">この Visual Studio インスタンスで既存の C#/Visual Basic ファイルを開き、Visualizer でそのファイルの構文ツリーを表示することができます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-126">You can open any existing C# / Visual Basic file in this Visual Studio instance, and the visualizer displays that file's syntax tree.</span></span> <span data-ttu-id="e47f7-127">Visual Studio 内で複数のコード ファイルを開いている場合、Visualizer は現在アクティブなコード ファイル (キーボードのフォーカスがあるコード ファイル) の構文ツリーを表示します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-127">If you have multiple code files open inside Visual Studio, the visualizer displays the syntax tree for the currently active code file, (the code file that has keyboard focus.)</span></span>

<!-- markdownlint-disable MD025 -->

# <a name="c"></a>[<span data-ttu-id="e47f7-128">C#</span><span class="sxs-lookup"><span data-stu-id="e47f7-128">C#</span></span>](#tab/csharp)

![C# 構文ツリーの視覚化](media/syntax-visualizer/visualize-csharp.png)

# <a name="visual-basic"></a>[<span data-ttu-id="e47f7-130">Visual Basic</span><span class="sxs-lookup"><span data-stu-id="e47f7-130">Visual Basic</span></span>](#tab/vb)

![Visual Basic 構文ツリーの視覚化](media/syntax-visualizer/visualize-visual-basic.png)

---

<span data-ttu-id="e47f7-132">前出の画像のように、Visualizer ツール ウィンドウでは、上部に構文ツリーが表示され、下部にプロパティ グリッドが表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-132">As shown in the preceding images, the visualizer tool window displays the syntax tree at the top and a property grid at the bottom.</span></span> <span data-ttu-id="e47f7-133">プロパティ グリッドには、ツリーで現在選択されている項目のプロパティが表示されます。これには、項目の .NET *型* と *種類* (SyntaxKind) が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-133">The property grid displays the properties of the item that is currently selected in the tree, including the .NET *Type* and the *Kind* (SyntaxKind) of the item.</span></span>

<span data-ttu-id="e47f7-134">構文ツリーは、*ノード*、*トークン*、および *トリビア* の 3 つの項目の型で構成されています。</span><span class="sxs-lookup"><span data-stu-id="e47f7-134">Syntax trees comprise three types of items – *nodes*, *tokens*, and *trivia*.</span></span> <span data-ttu-id="e47f7-135">これらの型については、[構文の使用](work-with-syntax.md) の記事で詳しく説明されています。</span><span class="sxs-lookup"><span data-stu-id="e47f7-135">You can read more about these types in the [Work with syntax](work-with-syntax.md) article.</span></span> <span data-ttu-id="e47f7-136">項目は型ごとに異なる色を使用して表されています。</span><span class="sxs-lookup"><span data-stu-id="e47f7-136">Items of each type are represented using a different color.</span></span> <span data-ttu-id="e47f7-137">使用されている色の概要については、[凡例] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="e47f7-137">Click on the ‘Legend’ button for an overview of the colors used.</span></span>

<span data-ttu-id="e47f7-138">ツリー内の各項目には、独自の **スパン** も表示されています。</span><span class="sxs-lookup"><span data-stu-id="e47f7-138">Each item in the tree also displays its own **span**.</span></span> <span data-ttu-id="e47f7-139">**スパン** は、テキスト ファイル内のそのノードのインデックス (開始位置と終了位置) です。</span><span class="sxs-lookup"><span data-stu-id="e47f7-139">The **span** is the indices (the starting and ending position) of that node in the text file.</span></span>  <span data-ttu-id="e47f7-140">前出の C# の例では、選択されている "UsingKeyword [0..5)" トークンには、5 文字の幅の **スパン** [0..5) があります。</span><span class="sxs-lookup"><span data-stu-id="e47f7-140">In the preceding C# example, the selected “UsingKeyword [0..5)” token has a **Span** that is five characters wide, [0..5).</span></span> <span data-ttu-id="e47f7-141">"[..)" の表記は、開始インデックスはスパンの一部ですが、終了インデックスはそうではないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-141">The "[..)" notation means that the starting index is part of the span, but the ending index is not.</span></span>

<span data-ttu-id="e47f7-142">ツリーを移動するには、次の 2 つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="e47f7-142">There are two ways to navigate the tree:</span></span>

* <span data-ttu-id="e47f7-143">ツリー内の項目を展開またはクリックします。</span><span class="sxs-lookup"><span data-stu-id="e47f7-143">Expand or click on items in the tree.</span></span> <span data-ttu-id="e47f7-144">Visualizer により、この項目のスパンに対応するテキストがコード エディターで自動的に選択されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-144">The visualizer automatically selects the text corresponding to this item’s span in the code editor.</span></span>
* <span data-ttu-id="e47f7-145">コード エディターで、テキストをクリックまたは選択します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-145">Click or select text in the code editor.</span></span> <span data-ttu-id="e47f7-146">前出の Visual Basic の例では、コード エディターで "Module Module1" を含む行を選択すると、Visualizer によってツリー内の対応する ModuleStatement ノードに自動的に移動されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-146">In the preceding Visual Basic example, if you select the line containing "Module Module1" in the code editor, the visualizer automatically navigates to the corresponding ModuleStatement node in the tree.</span></span>

<span data-ttu-id="e47f7-147">スパンがエディターで選択したテキストのスパンと最も一致する項目が、Visualizer により強調表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-147">The visualizer highlights the item in the tree whose span best matches the span of the text selected in the editor.</span></span>

<span data-ttu-id="e47f7-148">Visualizer は、アクティブなコード ファイル内の変更に合わせてツリーを更新します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-148">The visualizer refreshes the tree to match modifications in the active code file.</span></span> <span data-ttu-id="e47f7-149">`Console.WriteLine()` への呼び出しを `Main()` 内に追加します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-149">Add a call to `Console.WriteLine()` inside `Main()`.</span></span> <span data-ttu-id="e47f7-150">入力すると、Visualizer によってツリーが更新されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-150">As you type, the visualizer refreshes the tree.</span></span>

<span data-ttu-id="e47f7-151">`Console.` を入力したら、入力を一旦停止します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-151">Pause typing once you have typed `Console.`.</span></span> <span data-ttu-id="e47f7-152">ツリーには、ピンク色の項目がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="e47f7-152">The tree has some items colored in pink.</span></span> <span data-ttu-id="e47f7-153">この時点では、型指定されたコードにはエラー ('診断' とも呼ばれる) があります。</span><span class="sxs-lookup"><span data-stu-id="e47f7-153">At this point, there are errors (also referred to as ‘Diagnostics’) in the typed code.</span></span> <span data-ttu-id="e47f7-154">これらのエラーは、構文ツリー内のノード、トークン、およびトリビアに添付されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-154">These errors are attached to nodes, tokens, and trivia in the syntax tree.</span></span> <span data-ttu-id="e47f7-155">エラーが添付された項目が、Visualizer によってピンク色の背景で強調表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-155">The visualizer shows you which items have errors attached to them highlighting the background in pink.</span></span> <span data-ttu-id="e47f7-156">ピンク色で表示されている任意の項目の上にポインターを置くと、エラーを調査することができます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-156">You can inspect the errors on any item colored pink by hovering over the item.</span></span> <span data-ttu-id="e47f7-157">Visualizer では、構文エラー (型指定されたコードの構文に関連するエラー) のみが表示され、セマンティック エラーは表示されません。</span><span class="sxs-lookup"><span data-stu-id="e47f7-157">The visualizer only displays syntactic errors (those errors related to the syntax of the typed code); it doesn't display any semantic errors.</span></span>

## <a name="syntax-graphs"></a><span data-ttu-id="e47f7-158">構文グラフ</span><span class="sxs-lookup"><span data-stu-id="e47f7-158">Syntax Graphs</span></span>

<span data-ttu-id="e47f7-159">ツリー内の任意の項目を右クリックし、 **[View Directed Syntax Graph]\(有向構文グラフの表示\)** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="e47f7-159">Right click on any item in the tree and click on **View Directed Syntax Graph**.</span></span>

# <a name="c"></a>[<span data-ttu-id="e47f7-160">C#</span><span class="sxs-lookup"><span data-stu-id="e47f7-160">C#</span></span>](#tab/csharp)

<span data-ttu-id="e47f7-161">Visualizer により、選択した項目をルートとするサブツリーのグラフィカル表現が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-161">The visualizer displays a graphical representation of the subtree rooted at the selected item.</span></span> <span data-ttu-id="e47f7-162">C# の例で `Main()` のメソッドに対応する **MethodDeclaration** ノードに、これらの手順を試してみます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-162">Try these steps for the **MethodDeclaration** node corresponding to the `Main()` method in the C# example.</span></span> <span data-ttu-id="e47f7-163">Visualizer により、次のような構文グラフが表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-163">The visualizer displays a syntax graph that looks as follows:</span></span>

![C# の構文グラフの表示](media/syntax-visualizer/csharp-syntax-graph.png)

# <a name="visual-basic"></a>[<span data-ttu-id="e47f7-165">Visual Basic</span><span class="sxs-lookup"><span data-stu-id="e47f7-165">Visual Basic</span></span>](#tab/vb)

<span data-ttu-id="e47f7-166">前出の Visual Basic の例の `Main()` メソッドに対応する **SubBlock** ノードにも同じことを試してみます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-166">Try the same for the **SubBlock** node corresponding to the `Main()` method in the preceding Visual Basic example.</span></span> <span data-ttu-id="e47f7-167">Visualizer により、次のような構文グラフが表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-167">The visualizer displays a syntax graph that looks as follows:</span></span>

![Visual Basic 構文グラフの表示](media/syntax-visualizer/visual-basic-syntax-graph.png)

---

<span data-ttu-id="e47f7-169">構文グラフ ビューアーには、その色分けスキームの凡例を表示するオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="e47f7-169">The syntax graph viewer has an option to display a legend for its coloring scheme.</span></span> <span data-ttu-id="e47f7-170">マウスを使って、構文グラフ内の個々の項目にポインターを合わせても、その項目に対応するプロパティを表示することができます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-170">You can also hover over individual items in the syntax graph with the mouse to view the properties corresponding to that item.</span></span>

<span data-ttu-id="e47f7-171">ツリー内の異なる項目の構文グラフを繰り返し表示することができます。グラフは常に Visual Studio 内の同じウィンドウに表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-171">You can view syntax graphs for different items in the tree repeatedly and the graphs will always be displayed in the same window inside Visual Studio.</span></span> <span data-ttu-id="e47f7-172">このウィンドウを Visual Studio 内の任意の場所にドッキングすることで、新しい構文グラフを表示するためにタブを切り替える必要がなくなります。</span><span class="sxs-lookup"><span data-stu-id="e47f7-172">You can dock this window at a convenient location inside Visual Studio so that you don’t have to switch between tabs to view a new syntax graph.</span></span> <span data-ttu-id="e47f7-173">多くの場合、下部 (コード エディター ウィンドウの下) にドッキングすると便利です。</span><span class="sxs-lookup"><span data-stu-id="e47f7-173">The bottom, below code editor windows, is often convenient.</span></span>

<span data-ttu-id="e47f7-174">Visualizer ツール ウィンドウと構文グラフ ウィンドウを使用するためのドッキング レイアウトを次に示します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-174">Here is the docking layout to use with the visualizer tool window and the syntax graph window:</span></span>

![Visualizer と構文グラフ ウィンドウのためのドッキング レイアウト](media/syntax-visualizer/docking-layout.png)

<span data-ttu-id="e47f7-176">デュアル モニターの設定では、2 つ目のモニターに構文グラフ ウィンドウを配置することもできます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-176">Another option is to put the syntax graph window on a second monitor, in a dual monitor setup.</span></span>

## <a name="inspecting-semantics"></a><span data-ttu-id="e47f7-177">セマンティクスの検査</span><span class="sxs-lookup"><span data-stu-id="e47f7-177">Inspecting semantics</span></span>

<span data-ttu-id="e47f7-178">Syntax Visualizer を使用すると、シンボルとセマンティクス情報についての基本的な検査ができます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-178">The Syntax Visualizer enables rudimentary inspection of symbols and semantic information.</span></span> <span data-ttu-id="e47f7-179">C# の例で Main() 内に `double x = 1 + 1;` を入力します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-179">Type `double x = 1 + 1;` inside Main() in the C# example.</span></span> <span data-ttu-id="e47f7-180">次に、コード エディター ウィンドウで式 `1 + 1` を選択します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-180">Then, select the expression `1 + 1` in the code editor window.</span></span> <span data-ttu-id="e47f7-181">Visualizer で **AddExpression** ノードが強調表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-181">The visualizer highlights the **AddExpression** node in the visualizer.</span></span> <span data-ttu-id="e47f7-182">この **[AddExpression]** をクリックし、 **[View Symbol (if any)]\(シンボルの表示 (ある場合)\)** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="e47f7-182">Right click on this **AddExpression** and click on **View Symbol (if any)**.</span></span> <span data-ttu-id="e47f7-183">メニュー項目のほとんどに "if any" 修飾子があることに注目してください。</span><span class="sxs-lookup"><span data-stu-id="e47f7-183">Notice that most of the menu items have the "if any" qualifier.</span></span> <span data-ttu-id="e47f7-184">Syntax Visualizer は、ノードのプロパティ (すべてのノードに提示されない場合があるプロパティを含む) を検査します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-184">The Syntax Visualizer inspects properties of a Node, including properties that may not be present for all nodes.</span></span>

<span data-ttu-id="e47f7-185">ビジュアライザー内のプロパティ グリッドが、次の図のように更新されます。式のシンボルは、**SynthesizedIntrinsicOperatorSymbol** と **Kind = Method** です。</span><span class="sxs-lookup"><span data-stu-id="e47f7-185">The property grid in the visualizer updates as shown in the following figure: The symbol for the expression is a **SynthesizedIntrinsicOperatorSymbol** with **Kind = Method**.</span></span>

![Syntax Visualizer のシンボル プロパティ](media/syntax-visualizer/symbol-properties.png)

<span data-ttu-id="e47f7-187">同じ **AddExpression** ノードに対し、 **[View TypeSymbol (if any)]\(TypeSymbol の表示 (ある場合)\)** を試してみます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-187">Try **View TypeSymbol (if any)** for the same **AddExpression** node.</span></span> <span data-ttu-id="e47f7-188">Visualizer のプロパティ グリッドが、次の図に示すように更新され、選択された式の型が `Int32` であることを示します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-188">The property grid in the visualizer updates as shown in the following figure, indicating that the type of the selected expression is `Int32`.</span></span>

![TypeSymbol プロパティ](media/syntax-visualizer/type-symbol-properties.png)

<span data-ttu-id="e47f7-190">同じ **AddExpression** ノードに対し、 **[View Converted TypeSymbol (if any)]\(変換された TypeSymbol の表示 (ある場合)\)** を試してみます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-190">Try **View Converted TypeSymbol (if any)** for the same **AddExpression** node.</span></span> <span data-ttu-id="e47f7-191">プロパティ グリッドが更新され、次の図に示すように、式の型は `Int32` で、式の変換後の型は `Double` であることを示します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-191">The property grid updates indicating that although the type of the expression is `Int32`, the converted type of the expression is `Double` as shown in the following figure.</span></span> <span data-ttu-id="e47f7-192">`Double` に変換する必要があるコンテキストで `Int32` 式が発生するため、このノードには変換後の型のシンボル情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-192">This node includes converted type symbol information because the `Int32` expression occurs in a context where it must be converted to a `Double`.</span></span> <span data-ttu-id="e47f7-193">この変換により、代入演算子の左側にある変数 `x` に指定された `Double` 型を満たします。</span><span class="sxs-lookup"><span data-stu-id="e47f7-193">This conversion satisfies the `Double` type specified for the variable `x` on the left-hand side of the assignment operator.</span></span>

![変換された TypeSymbol プロパティ](media/syntax-visualizer/converted-type-symbol-properties.png)

<span data-ttu-id="e47f7-195">最後に、同じ **AddExpression** ノードに対し、 **[View Constant Value (if any)]\(定数値の表示 (ある場合)\)** を試してみます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-195">Finally, try **View Constant Value (if any)** for the same **AddExpression** node.</span></span> <span data-ttu-id="e47f7-196">プロパティ グリッドには、式の値が、値 `2` を持つコンパイル時の定数であることが示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-196">The property grid shows that the value of the expression is a compile time constant with value `2`.</span></span>

![定数値](media/syntax-visualizer/constant-value.png)

<span data-ttu-id="e47f7-198">前の例は Visual Basic でもレプリケートできます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-198">The preceding example can also be replicated in Visual Basic.</span></span> <span data-ttu-id="e47f7-199">Visual Basic ファイルで `Dim x As Double = 1 + 1` を入力します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-199">Type `Dim x As Double = 1 + 1` in a Visual Basic file.</span></span> <span data-ttu-id="e47f7-200">コード エディター ウィンドウで式 `1 + 1` を選択します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-200">Select the expression `1 + 1` in the code editor window.</span></span> <span data-ttu-id="e47f7-201">Visualizer で対応する **AddExpression** ノードが強調表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-201">The visualizer highlights the corresponding **AddExpression** node in the visualizer.</span></span> <span data-ttu-id="e47f7-202">この **AddExpression** に対して上記の手順を繰り返すと、同一の結果になるはずです。</span><span class="sxs-lookup"><span data-stu-id="e47f7-202">Repeat the preceding steps for this **AddExpression** and you should see identical results.</span></span>

<span data-ttu-id="e47f7-203">Visual Basic でさらに多くのコードを調べます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-203">Examine more code in Visual Basic.</span></span> <span data-ttu-id="e47f7-204">メインの Visual Basic ファイルを次のコードで更新します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-204">Update your main Visual Basic file with the following code:</span></span>

```vb
Imports C = System.Console

Module Program
    Sub Main(args As String())
        C.WriteLine()
    End Sub
End Module
```

<span data-ttu-id="e47f7-205">このコードは、ファイルの上部にある型 `System.Console` にマップする `C` という名前の別名を導入し、この別名を `Main()` の内部で使用します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-205">This code introduces an alias named `C` that maps to the type `System.Console` at the top of the file and uses this alias inside `Main()`.</span></span> <span data-ttu-id="e47f7-206">`Main()` メソッド内部で、この別名の使用を選択します (`C.WriteLine()` の `C`)。</span><span class="sxs-lookup"><span data-stu-id="e47f7-206">Select the use of this alias, the `C` in `C.WriteLine()`, inside the `Main()` method.</span></span> <span data-ttu-id="e47f7-207">Visualizer で、対応する **IdentifierName** ノードが選択されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-207">The visualizer selects the corresponding **IdentifierName** node in the visualizer.</span></span> <span data-ttu-id="e47f7-208">このノードを右クリックし、 **[View Symbol (if any)]\(シンボルの表示 (ある場合)\)** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="e47f7-208">Right-click this node and click on **View Symbol (if any)**.</span></span> <span data-ttu-id="e47f7-209">プロパティ グリッドには、次の図に示すように、この識別子が型 `System.Console` にバインドされていることが示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-209">The property grid indicates that this identifier is bound to the type `System.Console` as shown in the following figure:</span></span>

![Syntax Visualizer のシンボル `C` のプロパティ](media/syntax-visualizer/symbol-visual-basic.png)

<span data-ttu-id="e47f7-211">同じ **IdentifierName** ノードに対して、 **[View AliasSymbol (if any)]\(AliasSymbol の表示 (ある場合)\)** を試してみます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-211">Try **View AliasSymbol (if any)** for the same **IdentifierName** node.</span></span> <span data-ttu-id="e47f7-212">プロパティ グリッドには、識別子が `System.Console` ターゲットにバインドされている `C` という名前の別名であることが示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-212">The property grid indicates the identifier is an alias with name `C` that is bound to the `System.Console` target.</span></span> <span data-ttu-id="e47f7-213">つまり、プロパティ グリッドでは、識別子 `C` に対応する **AliasSymbol** に関する情報が提供されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-213">In other words, the property grid provides information regarding the **AliasSymbol** corresponding to the identifier `C`.</span></span>

![AliasSymbol プロパティ](media/syntax-visualizer/alias-symbol.png)

<span data-ttu-id="e47f7-215">任意の宣言された型、メソッド、プロパティに対応するシンボルを検査します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-215">Inspect the symbol corresponding to any declared type, method, property.</span></span> <span data-ttu-id="e47f7-216">Visualizer で対応するノードを選択し、 **[View Symbol (if any)]\(シンボルの表示 (ある場合)\)** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="e47f7-216">Select the corresponding node in the visualizer and click on **View Symbol (if any)**.</span></span> <span data-ttu-id="e47f7-217">`Sub Main()` メソッドを選択します。メソッドの本文も含めます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-217">Select the method `Sub Main()`, including the body of the method.</span></span> <span data-ttu-id="e47f7-218">Visualizer で対応する **SubBlock** ノードに対し、 **[View Symbol (if any)]\(シンボルの表示 (ある場合)\)** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="e47f7-218">Click on **View Symbol (if any)** for the corresponding **SubBlock** node in the visualizer.</span></span> <span data-ttu-id="e47f7-219">プロパティ グリッドには、この **SubBlock** の **MethodSymbol** の名前が `Main` で、戻り値の型が `Void` であることが示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-219">The property grid shows the **MethodSymbol** for this **SubBlock** has name `Main` with return type `Void`.</span></span>

![メソッドの宣言のシンボルを表示する](media/syntax-visualizer/method-symbol.png)

<span data-ttu-id="e47f7-221">上記の Visual Basic の例は、C# で簡単にレプリケートできます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-221">The above Visual Basic examples can be easily replicated in C#.</span></span> <span data-ttu-id="e47f7-222">別名の `Imports C = System.Console` の代わりに `using C = System.Console;` を入力します。</span><span class="sxs-lookup"><span data-stu-id="e47f7-222">Type `using C = System.Console;` in place of `Imports C = System.Console` for the alias.</span></span> <span data-ttu-id="e47f7-223">C# で上記の手順を行うと、Visualizer ウィンドウの結果はまったく同じになります。</span><span class="sxs-lookup"><span data-stu-id="e47f7-223">The preceding steps in C# yield identical results in the visualizer window.</span></span>

<span data-ttu-id="e47f7-224">セマンティックの検査操作は、ノードでのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-224">Semantic inspection operations are only available on nodes.</span></span> <span data-ttu-id="e47f7-225">トークンまたはトリビアでは使用できません。</span><span class="sxs-lookup"><span data-stu-id="e47f7-225">They are not available on tokens or trivia.</span></span> <span data-ttu-id="e47f7-226">すべてのノードに検査する興味深いセマンティック情報があるわけではありません。</span><span class="sxs-lookup"><span data-stu-id="e47f7-226">Not all nodes have interesting semantic information to inspect.</span></span> <span data-ttu-id="e47f7-227">ノードに興味深いセマンティック情報がない場合は、 **[View \* Symbol (if any)]\(シンボルの表示 (ある場合)\)** をクリックすると、空白のプロパティ グリッドが表示されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-227">When a node doesn't have interesting semantic information, clicking on **View \* Symbol (if any)** shows a blank property grid.</span></span>

<span data-ttu-id="e47f7-228">セマンティック分析を実行するための API の詳細については、「[セマンティクスの使用](work-with-semantics.md)」概要ドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="e47f7-228">You can read more about APIs for performing semantic analysis in the [Work with semantics](work-with-semantics.md) overview document.</span></span>

## <a name="closing-the-syntax-visualizer"></a><span data-ttu-id="e47f7-229">Syntax Visualizer を閉じる</span><span class="sxs-lookup"><span data-stu-id="e47f7-229">Closing the syntax visualizer</span></span>

<span data-ttu-id="e47f7-230">Syntax Visualizer ウィンドウは、ソース コードを調べるのに使用しない場合には閉じることができます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-230">You can close the visualizer window when you are not using it to examine source code.</span></span> <span data-ttu-id="e47f7-231">Syntax Visualizer では、コード内を移動してソースを編集および変更するたびに表示が更新されます。</span><span class="sxs-lookup"><span data-stu-id="e47f7-231">The syntax visualizer updates its display as you navigate through code, editing and changing the source.</span></span> <span data-ttu-id="e47f7-232">使用しない場合は、邪魔に感じる場合があります。</span><span class="sxs-lookup"><span data-stu-id="e47f7-232">It can get distracting when you are not using it.</span></span>
