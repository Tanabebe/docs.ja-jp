---
title: ASP.NET Core 2.1 に移行する
description: .NET Framework ランタイムをターゲットにできる最後の .NET Core のバージョンである .NET Core 2.1 に移行することは、一部のアプリ移行計画での中間段階として理にかなっているでしょうか?
author: ardalis
ms.date: 11/13/2020
ms.openlocfilehash: e4db85405edc7e7f51ab6f8b422451cf7acc065e
ms.sourcegitcommit: b5d2290673e1c91260c9205202dd8b95fbab1a0b
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/01/2021
ms.locfileid: "106122847"
---
# <a name="migrate-to-aspnet-core-21"></a><span data-ttu-id="f1af4-103">ASP.NET Core 2.1 に移行する</span><span class="sxs-lookup"><span data-stu-id="f1af4-103">Migrate to ASP.NET Core 2.1</span></span>

<span data-ttu-id="f1af4-104">ASP.NET Core 2.1 は、興味深いリリースです。 .NET Core と .NET Framework の両方のランタイムをサポートする、現在サポートされている唯一の ASP.NET Core リリースだからです。</span><span class="sxs-lookup"><span data-stu-id="f1af4-104">ASP.NET Core 2.1 is an interesting release because it's the only currently supported ASP.NET Core release to support both .NET Core and .NET Framework runtimes.</span></span> <span data-ttu-id="f1af4-105">そのような理由で、アプリによっては、これを使用することでアプリのすべての部分を一度に .NET Core にアップグレードするよりもアップグレード パスが簡単になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f1af4-105">As such, it may offer an easier upgrade path for some apps when compared to upgrading all parts of the app to .NET Core at once.</span></span> <span data-ttu-id="f1af4-106">LTS リリースとしては、.NET Core 2.1 のサポートは 2021 年 8 月まで継続されます。</span><span class="sxs-lookup"><span data-stu-id="f1af4-106">As an LTS release, support for .NET Core 2.1 will continue through August 2021.</span></span> <span data-ttu-id="f1af4-107">.NET Framework 上で実行される ASP.NET Core 2.1 のサポートは、基になる .NET Framework がサポートされている間は継続されます。</span><span class="sxs-lookup"><span data-stu-id="f1af4-107">Support for ASP.NET Core 2.1 running on .NET Framework will continue for as long as its underlying .NET Framework is supported.</span></span>

## <a name="should-apps-run-on-net-framework-with-aspnet-core-21"></a><span data-ttu-id="f1af4-108">.NET Framework と ASP.NET Core 2.1 上でアプリを実行する必要があるか</span><span class="sxs-lookup"><span data-stu-id="f1af4-108">Should apps run on .NET Framework with ASP.NET Core 2.1</span></span>

<span data-ttu-id="f1af4-109">ASP.NET Core 2.2 以前では、.NET Core と .NET Framework の両方のランタイムがサポートされていました。</span><span class="sxs-lookup"><span data-stu-id="f1af4-109">ASP.NET Core 2.2 and earlier supported both .NET Core and .NET Framework runtimes.</span></span> <span data-ttu-id="f1af4-110">.NET Core に完全に移植する前に、足がかりとしてアプリの一部またはすべてを ASP.NET Core 2.1 に移行することは理にかなっているでしょうか?</span><span class="sxs-lookup"><span data-stu-id="f1af4-110">Does it make sense to migrate some or all of an app to ASP.NET Core 2.1 as a stepping stone, before porting over completely to .NET Core?</span></span> <span data-ttu-id="f1af4-111">アプリまたはアプリのサブセットで、ビジネス ロジックとインフラストラクチャの使用に関しては引き続き .NET Framework ライブラリを使用しつつ、フロントエンドの ASP.NET ロジックを ASP.NET Core を使用するように移植することができます。</span><span class="sxs-lookup"><span data-stu-id="f1af4-111">Apps, or subsets of apps, could see their front-end ASP.NET logic ported to use ASP.NET Core, while still consuming .NET Framework libraries for business logic and infrastructure consumption.</span></span> <span data-ttu-id="f1af4-112">このアプローチは、あまり多くのビジネス ロジックが含まれない比較的薄い UI レイヤーがあり、はるかに大規模な機能のセットがクラス ライブラリ内にある場合に理にかなっています。</span><span class="sxs-lookup"><span data-stu-id="f1af4-112">This approach may make sense when there's a relatively thin UI layer without much business logic, and a much larger set of functionality in class libraries.</span></span>

<span data-ttu-id="f1af4-113">フロントエンドの Web レイヤーのみを ASP.NET Core 2.1 に移植する主な利点は、初期移行中に既存の .NET クラス ライブラリをそのまま維持できることです。</span><span class="sxs-lookup"><span data-stu-id="f1af4-113">The main benefit of porting just the front-end web layer to ASP.NET Core 2.1 is that the existing .NET class libraries can remain as is during the initial migration.</span></span> <span data-ttu-id="f1af4-114">これらは他の .NET アプリによって引き続き使用されていたり、または単に、計画されている .NET Core への完全移行の初期イテレーションのスコープ内に含める必要がない場合もあります。</span><span class="sxs-lookup"><span data-stu-id="f1af4-114">They may be in continued use by other .NET apps or simply don't need to be in scope for the first iteration of a planned full migration to .NET Core.</span></span> <span data-ttu-id="f1af4-115">大規模なアプリの初期移行のスコープを小さくすることは、希望する最終状態 (多くの場合、.NET Core への完全な移植) に向けた足がかりとなる段階的な目標を設定するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="f1af4-115">Reducing the scope of the initial migration for large apps helps provide incremental goals that act as stepping stones toward the desired end state, which is often a complete port to .NET Core.</span></span>

<span data-ttu-id="f1af4-116">この戦略を使用できる既存のアプリがある場合、そのプロセスに備えるために今できることは、できる限り多くのビジネス ロジック、データ アクセス、その他の UI 以外のロジックを、ASP.NET プロジェクトから別のクラス ライブラリに移動しておくことです。</span><span class="sxs-lookup"><span data-stu-id="f1af4-116">If you have an existing app that may use this strategy, some things you can do today to help prepare for the process are to move as much business logic, data access, and other non-UI logic out of the ASP.NET projects and into separate class libraries as possible.</span></span> <span data-ttu-id="f1af4-117">これは、移行の前と後とで動作の一貫性が維持されていることを確認できるように、システムのテスト カバレッジを自動化している場合にも役立ちます。</span><span class="sxs-lookup"><span data-stu-id="f1af4-117">It will also help if you have automated test coverage of your system, so that you can verify behavior remains consistent before and after the migration.</span></span>

<span data-ttu-id="f1af4-118">アプリの規模が非常に大きいために Web アプリ全体を一度に移行できず、新しい ASP.NET Core アプリを既存の ASP.NET アプリとサイドバイサイドで展開できるようにする必要がある場合は、それを実現できる展開戦略があります。</span><span class="sxs-lookup"><span data-stu-id="f1af4-118">If your app is so large that you can't migrate the entire web app at once, and you need to be able to deploy the new ASP.NET Core app side-by-side with the existing ASP.NET app, there are deployment strategies that can be used to achieve this.</span></span> <span data-ttu-id="f1af4-119">それらについては、「[第 5 章: 展開シナリオ](deployment-scenarios.md)」で説明しています。</span><span class="sxs-lookup"><span data-stu-id="f1af4-119">These are covered in [Chapter 5: Deployment Scenarios](deployment-scenarios.md).</span></span>

<span data-ttu-id="f1af4-120">ASP.NET Core 2.1 は .NET Framework 上での実行と .NET Framework ライブラリの使用がサポートされる .NET Core の最後の LTS リリースであることを念頭に置いてください。</span><span class="sxs-lookup"><span data-stu-id="f1af4-120">Keep in mind that ASP.NET Core 2.1 is the last LTS release of .NET Core that supports running on .NET Framework and consuming .NET Framework libraries.</span></span> <span data-ttu-id="f1af4-121">このリリースはまもなくサポートされなくなりますが、.NET Framework 上の ASP.NET Core 2.1 は、その .NET Framework がサポートされている間は (.NET Core 2.1 のサポートが終了した後でも) サポートされます。</span><span class="sxs-lookup"><span data-stu-id="f1af4-121">This release will soon be unsupported, but ASP.NET Core 2.1 on .NET Framework will be supported as long as the .NET Framework (even after .NET Core 2.1 support ends).</span></span> <span data-ttu-id="f1af4-122">詳細については、「[.NET Framework 上の ASP.NET Core 2.1](https://dotnet.microsoft.com/platform/support/policy/dotnet-core)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f1af4-122">For more information, see [ASP.NET Core 2.1 on .NET Framework](https://dotnet.microsoft.com/platform/support/policy/dotnet-core).</span></span>

## <a name="references"></a><span data-ttu-id="f1af4-123">References</span><span class="sxs-lookup"><span data-stu-id="f1af4-123">References</span></span>

[<span data-ttu-id="f1af4-124">ASP.NET から ASP.NET Core 2.1 への移行</span><span class="sxs-lookup"><span data-stu-id="f1af4-124">Migrating from ASP.NET to ASP.NET Core 2.1</span></span>](/aspnet/core/migration/proper-to-2x/?preserve-view=true&view=aspnetcore-2.1)

>[!div class="step-by-step"]
><span data-ttu-id="f1af4-125">[前へ](migration-considerations.md)
>[次へ](choose-net-core-version.md)</span><span class="sxs-lookup"><span data-stu-id="f1af4-125">[Previous](migration-considerations.md)
[Next](choose-net-core-version.md)</span></span>
