---
title: 移行に関する考慮事項
description: ASP.NET MVC から .NET Core に移行するかどうか、およびその方法を適切に判断するために、チームは何を知る必要がありますか。
author: ardalis
ms.date: 11/13/2020
ms.openlocfilehash: efa1efc99cbe46ef289cfd6b53ba83b3bc1b56b1
ms.sourcegitcommit: bdbf6472de867a0a11aaa5b9384a2506c24f27d2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/05/2021
ms.locfileid: "102401479"
---
# <a name="migration-considerations"></a><span data-ttu-id="e966a-103">移行に関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="e966a-103">Migration considerations</span></span>

<span data-ttu-id="e966a-104">アプリケーションを .NET Core に移植する場合は、最も基本的な質問に答える必要があります。</span><span class="sxs-lookup"><span data-stu-id="e966a-104">The most fundamental question teams must answer when it comes to porting their apps to .NET Core is, should they port at all?</span></span> <span data-ttu-id="e966a-105">場合によっては、ASP.NET MVC または Web API を使用して .NET Framework のままにしておくことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e966a-105">In some cases, the best path forward is to remain on .NET Framework using ASP.NET MVC and/or Web API.</span></span> <span data-ttu-id="e966a-106">この章では、.NET Core への移行が理にかなっている理由を検討します。</span><span class="sxs-lookup"><span data-stu-id="e966a-106">This chapter considers reasons why moving to .NET Core makes sense.</span></span> <span data-ttu-id="e966a-107">この章では、.NET Framework を維持するためのシナリオと方法についても検討します。</span><span class="sxs-lookup"><span data-stu-id="e966a-107">The chapter also considers scenarios and counterpoints for staying on .NET Framework.</span></span>

## <a name="is-migration-to-net-core-appropriate"></a><span data-ttu-id="e966a-108">.NET Core への移行は適切ですか?</span><span class="sxs-lookup"><span data-stu-id="e966a-108">Is migration to .NET Core appropriate?</span></span>

<span data-ttu-id="e966a-109">.NET Core (または .NET 5) に移行する理由のいくつかから始めましょう。</span><span class="sxs-lookup"><span data-stu-id="e966a-109">Let's start with some of the reasons why you might want to move to .NET Core (or .NET 5).</span></span> <span data-ttu-id="e966a-110">非常に多くのことがあるため、この一覧を完全に考慮しないでください。</span><span class="sxs-lookup"><span data-stu-id="e966a-110">There are quite a few, so don't consider this list exhaustive.</span></span>

### <a name="cross-platform-support"></a><span data-ttu-id="e966a-111">クロスプラットフォームのサポート</span><span class="sxs-lookup"><span data-stu-id="e966a-111">Cross-platform support</span></span>

<span data-ttu-id="e966a-112">.NET Core 上に構築されたアプリは、完全にクロスプラットフォームであり、Windows、Linux、macOS で実行できます。</span><span class="sxs-lookup"><span data-stu-id="e966a-112">Apps built on .NET Core are truly cross-platform and can run on Windows, Linux, and macOS.</span></span> <span data-ttu-id="e966a-113">開発者は必要なハードウェアをどれでも使用できますが、アプリをどこでもホストできます。</span><span class="sxs-lookup"><span data-stu-id="e966a-113">Not only can your developers use whatever hardware they want, but you can also host your app anywhere.</span></span> <span data-ttu-id="e966a-114">例として、ローカル IIS からクラウド内の Azure、または Linux Docker コンテナーから IoT デバイスまでの範囲があります。</span><span class="sxs-lookup"><span data-stu-id="e966a-114">Examples range from local IIS to Azure in the cloud or from Linux Docker containers to IoT devices.</span></span>

### <a name="performance-and-scalability"></a><span data-ttu-id="e966a-115">パフォーマンスと拡張性</span><span class="sxs-lookup"><span data-stu-id="e966a-115">Performance and scalability</span></span>

<span data-ttu-id="e966a-116">.NET Core でビルドされたアプリは [、どこからでも利用できる最速の技術スタックの1つ](https://www.techempower.com/benchmarks/#hw=ph&test=plaintext)で実行されています。</span><span class="sxs-lookup"><span data-stu-id="e966a-116">Apps built with .NET Core are running on [one of the fastest tech stacks available anywhere](https://www.techempower.com/benchmarks/#hw=ph&test=plaintext).</span></span> <span data-ttu-id="e966a-117">ASP.NET MVC アプリでは、多くの場合、ASP.NET Core のパフォーマンスが向上しています。 .NET Core で利用可能な新機能を利用するために更新された場合は特にそうです。</span><span class="sxs-lookup"><span data-stu-id="e966a-117">ASP.NET MVC apps often see performance improvements on ASP.NET Core, especially if they're updated to take advantage of some new features available in .NET Core.</span></span>

### <a name="cloud-native"></a><span data-ttu-id="e966a-118">クラウドネイティブ</span><span class="sxs-lookup"><span data-stu-id="e966a-118">Cloud-native</span></span>

<span data-ttu-id="e966a-119">上記の理由により、.NET Core アプリはクラウドホスティング環境での実行に適しています。</span><span class="sxs-lookup"><span data-stu-id="e966a-119">For the above reasons and others, .NET Core apps are well-suited to running in cloud hosting environments.</span></span> <span data-ttu-id="e966a-120">軽量で高速な .NET Core アプリを Azure アプリサービスまたはコンテナーにデプロイし、必要に応じて水平方向に拡張して、システムの需要を即座に満たすことができます。</span><span class="sxs-lookup"><span data-stu-id="e966a-120">Lightweight and fast, .NET Core apps can be deployed to Azure App Services or containers and scaled horizontally as needed to meet immediate system demand.</span></span>

### <a name="maintainable"></a><span data-ttu-id="e966a-121">保持</span><span class="sxs-lookup"><span data-stu-id="e966a-121">Maintainable</span></span>

<span data-ttu-id="e966a-122">多くのアプリでは、顧客とビジネスのニーズに対応しつつ、技術的な負債が蓄積され、アプリのコストが高くなりました。</span><span class="sxs-lookup"><span data-stu-id="e966a-122">For many apps, while they've continued to meet customer and business needs, technical debt has accumulated and maintaining the app has grown expensive.</span></span> <span data-ttu-id="e966a-123">ASP.NET Core のアプリは、ASP.NET MVC アプリよりも簡単にテストできます。これにより、リファクタリングが容易になり、自信を持って拡張することができます。</span><span class="sxs-lookup"><span data-stu-id="e966a-123">ASP.NET Core apps are more easily tested than ASP.NET MVC apps, making them easier to refactor and extend with confidence.</span></span>

### <a name="modular"></a><span data-ttu-id="e966a-124">モジュール式</span><span class="sxs-lookup"><span data-stu-id="e966a-124">Modular</span></span>

<span data-ttu-id="e966a-125">ASP.NET Core は、フレームワークのファーストクラスの部分として NuGet パッケージを使用してモジュール化されています。</span><span class="sxs-lookup"><span data-stu-id="e966a-125">ASP.NET Core is modular, using NuGet packages as a first-class part of the framework.</span></span> <span data-ttu-id="e966a-126">.NET Core 用に構築されたアプリはすべて、依存関係の注入をサポートしているため、特定の環境に必要な任意の実装からソリューションを簡単に作成できます。</span><span class="sxs-lookup"><span data-stu-id="e966a-126">Apps built for .NET Core all support dependency injection, making it easy to compose solutions from whatever implementations are needed for a given environment.</span></span> <span data-ttu-id="e966a-127">.NET Core でのマイクロサービスの構築は、ASP.NET MVC を使用するよりも簡単です。 IIS に依存しているため、大規模なアプリを小さなモジュールに分割するための追加オプションが表示されます。</span><span class="sxs-lookup"><span data-stu-id="e966a-127">Building microservices with .NET Core is easier than with ASP.NET MVC with its dependency on IIS, which opens up additional options to break up large apps into smaller modules.</span></span>

### <a name="modern"></a><span data-ttu-id="e966a-128">モダン</span><span class="sxs-lookup"><span data-stu-id="e966a-128">Modern</span></span>

<span data-ttu-id="e966a-129">積極的に開発されたテクノロジスタックを最新の状態に保つことには、利点があります。</span><span class="sxs-lookup"><span data-stu-id="e966a-129">Staying on a modern, actively developed technology stack has a host of advantages.</span></span> <span data-ttu-id="e966a-130">新機能と C# 言語機能は、.NET Core にのみ追加されます。</span><span class="sxs-lookup"><span data-stu-id="e966a-130">New features and C# language features will only be added to .NET Core.</span></span> <span data-ttu-id="e966a-131">.NET Framework にはバージョン4.8 の最新リリースがあり、8を超えるバージョンの C# では .NET Framework が対象になりません。</span><span class="sxs-lookup"><span data-stu-id="e966a-131">The .NET Framework has had its last release with version 4.8, and versions of C# beyond 8 won't target .NET Framework.</span></span> <span data-ttu-id="e966a-132">ASP.NET MVC は長年にわたってマイクロソフトによってサポートされていますが、最も優れている .NET ソフトウェア開発者は、より最新の .NET Core フレームワークを使用することを検討しています (上記の一部のみを紹介します)。</span><span class="sxs-lookup"><span data-stu-id="e966a-132">While ASP.NET MVC will remain supported by Microsoft for many years, the best and brightest .NET software developers are likely looking to use the more modern .NET Core framework, with all of the advantages it offers (only some of which are summarized above).</span></span> <span data-ttu-id="e966a-133">ASP.NET MVC アプリを維持するためのスキルを持つ開発者を見つけることは、オンライントレーニングとトラブルシューティングのサポートを見つけるために、ある時点での課題になり始めます。</span><span class="sxs-lookup"><span data-stu-id="e966a-133">Finding developers with the skills to maintain an ASP.NET MVC app will start to become a challenge at some point, as will finding online training and troubleshooting assistance.</span></span> <span data-ttu-id="e966a-134">多くの場合、ASP.NET MVC 5 については新しいブログ投稿が作成されていませんが、.NET 5.0 向けには十分に記述されています。</span><span class="sxs-lookup"><span data-stu-id="e966a-134">There probably aren't that many new blog posts being written about ASP.NET MVC 5, while there are plenty being written for .NET 5.0, for example.</span></span>

<span data-ttu-id="e966a-135">.NET Core への移行を検討すべき説得力のある理由は多数ありますが、この書籍を読むのはなぜでしょうか。</span><span class="sxs-lookup"><span data-stu-id="e966a-135">There are many compelling reasons to consider migrating to .NET Core, which presumably is why you're reading this book!</span></span> <span data-ttu-id="e966a-136">しかし、いくつかの欠点と、.NET Framework に残しておくと意味がある理由について考えてみましょう。</span><span class="sxs-lookup"><span data-stu-id="e966a-136">But let's consider some disadvantages and reasons why it may make more sense to remain on the .NET Framework.</span></span>

## <a name="when-is-net-framework-appropriate"></a><span data-ttu-id="e966a-137">が .NET Framework 適切な場合</span><span class="sxs-lookup"><span data-stu-id="e966a-137">When is .NET Framework appropriate?</span></span>

<span data-ttu-id="e966a-138">.NET Framework を維持する最大の理由は、アプリがアクティブに開発されていないときに、上記の利点を最大限に活用できないことです。</span><span class="sxs-lookup"><span data-stu-id="e966a-138">The biggest reason to stay on .NET Framework is when an app isn't under active development and wouldn't benefit substantially from the advantages listed above.</span></span> <span data-ttu-id="e966a-139">このような場合は、アプリの移植にかかるコストを発生させるという優れたビジネスケースではありません。</span><span class="sxs-lookup"><span data-stu-id="e966a-139">In that case, there probably isn't a good business case to incur the cost of porting the app.</span></span> <span data-ttu-id="e966a-140">アプリが .NET Core の特典の利点を活用できる場合は、.NET Core で使用できない特定のテクノロジが必要な場合は .NET Framework に続ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="e966a-140">If your app might benefit from the advantages .NET Core offers, you may still need to stay on .NET Framework if you need certain technologies that are unavailable on .NET Core.</span></span> <span data-ttu-id="e966a-141">[.Net Core で使用できない .net テクノロジ](../../core/porting/net-framework-tech-unavailable.md)がいくつかあります。これには、AppDomains、リモート処理、コードアクセスセキュリティ (CAS)、透過的セキュリティ、およびが含まれ `System.EnterpriseServices` ます。</span><span class="sxs-lookup"><span data-stu-id="e966a-141">There are some [.NET technologies that are unavailable on .NET Core](../../core/porting/net-framework-tech-unavailable.md), including AppDomains, Remoting, Code Access Security (CAS), Security Transparency, and `System.EnterpriseServices`.</span></span> <span data-ttu-id="e966a-142">これらのテクノロジとその代替方法の概要については、こちらを参照してください。</span><span class="sxs-lookup"><span data-stu-id="e966a-142">A brief summary of these technologies and their alternatives is included here.</span></span> <span data-ttu-id="e966a-143">詳細なガイダンスについては、のドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="e966a-143">For more detailed guidance, see the documentation.</span></span>

### <a name="application-domains"></a><span data-ttu-id="e966a-144">アプリケーション ドメイン</span><span class="sxs-lookup"><span data-stu-id="e966a-144">Application domains</span></span>

<span data-ttu-id="e966a-145">アプリケーション ドメイン (AppDomains) はアプリを互いに分離します。</span><span class="sxs-lookup"><span data-stu-id="e966a-145">Application domains (AppDomains) isolate apps from one another.</span></span> <span data-ttu-id="e966a-146">AppDomains ではランタイムサポートが必要であり、負荷が高くなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e966a-146">AppDomains require runtime support and can be expensive.</span></span> <span data-ttu-id="e966a-147">追加のアプリドメインの作成はサポートされておらず、今後 .NET Core にこの機能を追加する予定はありません。</span><span class="sxs-lookup"><span data-stu-id="e966a-147">Creating additional app domains isn't supported, and there are no plans to add this capability to .NET Core in the future.</span></span> <span data-ttu-id="e966a-148">コードの分離のためには、代替方法として別個のプロセスやコンテナーを使用します。</span><span class="sxs-lookup"><span data-stu-id="e966a-148">For code isolation, use separate processes or containers as an alternative.</span></span>

### <a name="wcf"></a><span data-ttu-id="e966a-149">WCF</span><span class="sxs-lookup"><span data-stu-id="e966a-149">WCF</span></span>

<span data-ttu-id="e966a-150">サーバー側 WCF は、.NET Core ではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="e966a-150">Server-side WCF isn't supported in .NET Core.</span></span> <span data-ttu-id="e966a-151">.NET Core は wcf クライアントをサポートしますが、WCF ホストはサポートしません。</span><span class="sxs-lookup"><span data-stu-id="e966a-151">.NET Core supports WCF clients but not WCF hosts.</span></span> <span data-ttu-id="e966a-152">この機能を必要とするアプリは、移行の一環として別の通信テクノロジ (gRPC や REST など) にアップグレードする必要があります。</span><span class="sxs-lookup"><span data-stu-id="e966a-152">Apps that require this functionality will need to upgrade to a different communication technology (such as gRPC or REST) as part of a migration.</span></span>

<span data-ttu-id="e966a-153">[.Net Foundation で使用可能な WCF クライアントポート](../../core/dotnet-five.md#windows-communication-foundation)があります。</span><span class="sxs-lookup"><span data-stu-id="e966a-153">There is a [WCF client port available from the .NET Foundation](../../core/dotnet-five.md#windows-communication-foundation).</span></span> <span data-ttu-id="e966a-154">これは、完全にオープンソースであり、クロスプラットフォームで、Microsoft によってサポートされています。</span><span class="sxs-lookup"><span data-stu-id="e966a-154">It is entirely open source, cross platform, and supported by Microsoft.</span></span> <span data-ttu-id="e966a-155">また、マイクロソフトによって正式にサポートされて *いない* コミュニティでサポートされている [corewcf プロジェクト](https://github.com/CoreWCF/CoreWCF)もあります。</span><span class="sxs-lookup"><span data-stu-id="e966a-155">There is also a community-supported [CoreWCF project](https://github.com/CoreWCF/CoreWCF) that is *not* officially supported by Microsoft.</span></span>

### <a name="remoting"></a><span data-ttu-id="e966a-156">リモート処理</span><span class="sxs-lookup"><span data-stu-id="e966a-156">Remoting</span></span>

<span data-ttu-id="e966a-157">.NET リモート処理は、問題のあるアーキテクチャであると判断されました。</span><span class="sxs-lookup"><span data-stu-id="e966a-157">.NET Remoting was identified as a problematic architecture.</span></span> <span data-ttu-id="e966a-158">AppDomain 間の通信で使用されていますが、今後はサポートされなくなります。</span><span class="sxs-lookup"><span data-stu-id="e966a-158">It's used for cross-AppDomain communication, which is no longer supported.</span></span> <span data-ttu-id="e966a-159">また、リモート処理にはランタイム サポートが必要で、維持するのに高いコストがかかります。</span><span class="sxs-lookup"><span data-stu-id="e966a-159">Also, Remoting requires runtime support, which is expensive to maintain.</span></span> <span data-ttu-id="e966a-160">このような理由から、.net リモート処理は .NET Core ではサポートされておらず、製品チームは将来のサポートの追加を計画していません。</span><span class="sxs-lookup"><span data-stu-id="e966a-160">For these reasons, .NET Remoting isn't supported on .NET Core, and the product team doesn't plan on adding support for it in the future.</span></span> <span data-ttu-id="e966a-161">.NET Core アプリのリモート処理を置き換えるために使用できる、いくつかの代替メッセージング戦略と実装があります。</span><span class="sxs-lookup"><span data-stu-id="e966a-161">There are several alternative messaging strategies and implementations you can use to replace remoting in your .NET Core apps.</span></span>

### <a name="code-access-security-cas-and-security-transparency"></a><span data-ttu-id="e966a-162">コードアクセスセキュリティ (CAS) とセキュリティの透過性</span><span class="sxs-lookup"><span data-stu-id="e966a-162">Code Access Security (CAS) and Security Transparency</span></span>

<span data-ttu-id="e966a-163">これらのテクノロジはどちらも .NET Core ではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="e966a-163">Neither of these technologies are supported by .NET Core.</span></span> <span data-ttu-id="e966a-164">代わりに、オペレーティングシステムによって提供されるセキュリティ境界を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e966a-164">Instead, the recommendation is to use security boundaries provided by the operating system.</span></span> <span data-ttu-id="e966a-165">たとえば、仮想化、コンテナー、ユーザーアカウントなどです。</span><span class="sxs-lookup"><span data-stu-id="e966a-165">For example, virtualization, containers, or user accounts.</span></span> <span data-ttu-id="e966a-166">必要最小限の特権セットでプロセスを実行します。</span><span class="sxs-lookup"><span data-stu-id="e966a-166">Run processes with the minimal set of privileges necessary.</span></span>

## <a name="references"></a><span data-ttu-id="e966a-167">関連項目</span><span class="sxs-lookup"><span data-stu-id="e966a-167">References</span></span>

[<span data-ttu-id="e966a-168">.NET Core で使用できない .NET Framework テクノロジ</span><span class="sxs-lookup"><span data-stu-id="e966a-168">.NET Framework Technologies Unavailable on .NET Core</span></span>](../../core/porting/net-framework-tech-unavailable.md)

>[!div class="step-by-step"]
><span data-ttu-id="e966a-169">[前へ](introduction.md)
>[次へ](migrate-aspnet-core-2-1.md)</span><span class="sxs-lookup"><span data-stu-id="e966a-169">[Previous](introduction.md)
[Next](migrate-aspnet-core-2-1.md)</span></span>
