---
title: .NET Framework から .NET 5 に移植する
description: 移植プロセスを理解し、.NET Framework プロジェクトを .NET 5 (および .NET Core 3.1) に移植する際に役立つツールを確認します。
author: adegeo
ms.date: 03/03/2020
no-loc:
- package.config
- PackageReference
ms.openlocfilehash: 8515689cf4a1be917f12bb8f3315cda89988d773
ms.sourcegitcommit: 46cfed35d79d70e08c313b9c664c7e76babab39e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/10/2021
ms.locfileid: "102605049"
---
# <a name="overview-of-porting-from-net-framework-to-net"></a><span data-ttu-id="cbfe3-103">.NET Framework から .NET への移植の概要</span><span class="sxs-lookup"><span data-stu-id="cbfe3-103">Overview of porting from .NET Framework to .NET</span></span>

<span data-ttu-id="cbfe3-104">この記事では、.NET Framework から .NET (旧称 .NET Core) にコードを移植する際に考慮する必要がある事項の概要について説明します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-104">This article provides an overview of what you should consider when porting your code from .NET Framework to .NET (formerly named .NET Core).</span></span> <span data-ttu-id="cbfe3-105">多くのプロジェクトでは、.NET Framework から .NET に比較的簡単に移植できます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-105">Porting to .NET from .NET Framework for many projects is relatively straightforward.</span></span> <span data-ttu-id="cbfe3-106">プロジェクトの複雑さによって、プロジェクト ファイルを最初に移行した後に実行する作業の量が決まります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-106">The complexity of your projects dictates how much work you'll do after the initial migration of the project files.</span></span>

<span data-ttu-id="cbfe3-107">.NET にアプリ モデルがあるプロジェクト (ライブラリ、コンソール アプリ、デスクトップ アプリなど) では、通常ほとんど変更することはありません。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-107">Projects where the app-model is available in .NET (such as libraries, console apps, and desktop apps) usually require little change.</span></span> <span data-ttu-id="cbfe3-108">ASP.NET から ASP.NET Core への移行など、新しいアプリ モデルを必要とするプロジェクトではさらに作業が必要となります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-108">Projects that require a new app model, such as moving to ASP.NET Core from ASP.NET, require more work.</span></span> <span data-ttu-id="cbfe3-109">古いアプリ モデルの多くのパターンには、変換中に使用できる同等のものがあります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-109">Many patterns from the old app model have equivalents that can be used during the conversion.</span></span>

## <a name="unavailable-technologies"></a><span data-ttu-id="cbfe3-110">利用できないテクノロジ</span><span class="sxs-lookup"><span data-stu-id="cbfe3-110">Unavailable technologies</span></span>

<span data-ttu-id="cbfe3-111">.NET Framework には .NET に存在しない、次のようないくつかのテクノロジがあります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-111">There are a few technologies in .NET Framework that don't exist in .NET:</span></span>

- [<span data-ttu-id="cbfe3-112">アプリケーション ドメイン</span><span class="sxs-lookup"><span data-stu-id="cbfe3-112">Application domains</span></span>](net-framework-tech-unavailable.md#application-domains)

  <span data-ttu-id="cbfe3-113">追加のアプリケーション ドメインの作成はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-113">Creating additional application domains isn't supported.</span></span> <span data-ttu-id="cbfe3-114">コードの分離のためには、代替方法として別個のプロセスやコンテナーを使用します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-114">For code isolation, use separate processes or containers as an alternative.</span></span>

- [<span data-ttu-id="cbfe3-115">リモート処理</span><span class="sxs-lookup"><span data-stu-id="cbfe3-115">Remoting</span></span>](net-framework-tech-unavailable.md#remoting)

  <span data-ttu-id="cbfe3-116">リモート処理は、現在サポートされていないアプリケーション ドメインとの間の通信に使用されます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-116">Remoting is used for communicating across application domains, which are no longer supported.</span></span> <span data-ttu-id="cbfe3-117">プロセスとの間の通信については、リモート処理に代わる方法として、<xref:System.IO.Pipes> クラスまたは <xref:System.IO.MemoryMappedFiles.MemoryMappedFile> クラスなどのプロセス間通信 (IPC) メカニズムを検討してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-117">For communication across processes, consider inter-process communication (IPC) mechanisms as an alternative to remoting, such as the <xref:System.IO.Pipes> class or the <xref:System.IO.MemoryMappedFiles.MemoryMappedFile> class.</span></span>

- [<span data-ttu-id="cbfe3-118">コード アクセス セキュリティ (CAS)</span><span class="sxs-lookup"><span data-stu-id="cbfe3-118">Code access security (CAS)</span></span>](net-framework-tech-unavailable.md#code-access-security-cas)

  <span data-ttu-id="cbfe3-119">CAS は .NET Framework でサポートされているサンドボックス化手法でしたが、.NET Framework 4.0 では非推奨とされました。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-119">CAS was a sandboxing technique supported by .NET Framework but deprecated in .NET Framework 4.0.</span></span> <span data-ttu-id="cbfe3-120">これはセキュリティ透過性によって置き換えられており、.NET ではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-120">It was replaced by Security Transparency and it's not supported in .NET.</span></span> <span data-ttu-id="cbfe3-121">代わりに、仮想化、コンテナー、ユーザー アカウントなど、オペレーティング システムが提供するセキュリティ境界を使用してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-121">Instead, use security boundaries provided by the operating system, such as virtualization, containers, or user accounts.</span></span>

- [<span data-ttu-id="cbfe3-122">セキュリティ透過性</span><span class="sxs-lookup"><span data-stu-id="cbfe3-122">Security transparency</span></span>](net-framework-tech-unavailable.md#security-transparency)

  <span data-ttu-id="cbfe3-123">CAS と同様に、このサンドボックス化手法は .NET Framework アプリケーションでは推奨されなくなり、.NET ではサポートされません。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-123">Similar to CAS, this sandboxing technique is no longer recommended for .NET Framework applications and it's not supported in .NET.</span></span> <span data-ttu-id="cbfe3-124">代わりに、仮想化、コンテナー、ユーザー アカウントなど、オペレーティング システムが提供するセキュリティ境界を使用してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-124">Instead, use security boundaries provided by the operating system, such as virtualization, containers, or user accounts.</span></span>
  
- <xref:System.EnterpriseServices?displayProperty=fullName>

  <span data-ttu-id="cbfe3-125"><xref:System.EnterpriseServices?displayProperty=fullName> (COM+) は .NET ではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-125"><xref:System.EnterpriseServices?displayProperty=fullName> (COM+) isn't supported in .NET.</span></span>

- <span data-ttu-id="cbfe3-126">Windows Workflow Foundation (WF) と Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="cbfe3-126">Windows Workflow Foundation (WF) and Windows Communication Foundation (WCF)</span></span>

  <span data-ttu-id="cbfe3-127">WF と WCF は .NET 5 以降 (.NET Core を含む) ではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-127">WF and WCF aren't supported in .NET 5+ (including .NET Core).</span></span> <span data-ttu-id="cbfe3-128">代替方法については、「[CoreWF](https://github.com/UiPath/corewf)」、および [CoreWCF](https://github.com/CoreWCF/CoreWCF) に関するページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-128">For alternatives, see [CoreWF](https://github.com/UiPath/corewf) and [CoreWCF](https://github.com/CoreWCF/CoreWCF).</span></span>

<span data-ttu-id="cbfe3-129">サポートされないテクノロジの詳細については、「[.NET Core と .NET 5 以降で使用できない .NET Framework テクノロジ](net-framework-tech-unavailable.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-129">For more information about these unsupported technologies, see [.NET Framework technologies unavailable on .NET Core and .NET 5+](net-framework-tech-unavailable.md).</span></span>

## <a name="windows-desktop-technologies"></a><span data-ttu-id="cbfe3-130">Windows デスクトップ テクノロジ</span><span class="sxs-lookup"><span data-stu-id="cbfe3-130">Windows desktop technologies</span></span>

<span data-ttu-id="cbfe3-131">.NET Framework 用に作成された多くのアプリケーションでは、Windows フォームや Windows Presentation Foundation (WPF) などのデスクトップ テクノロジが使用されます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-131">Many applications created for .NET Framework use a desktop technology such as Windows Forms or Windows Presentation Foundation (WPF).</span></span> <span data-ttu-id="cbfe3-132">Windows フォームと WPF はどちらも .NET に移植されていますが、これらは引き続き Windows 専用のテクノロジです。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-132">Both Windows Forms and WPF have been ported to .NET, but these remain Windows-only technologies.</span></span>

<span data-ttu-id="cbfe3-133">Windows フォームまたは WPF アプリケーションを移行する前に、次の依存関係を考慮してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-133">Consider the following dependencies before you migrate a Windows Forms or WPF application:</span></span>

01. <span data-ttu-id="cbfe3-134">.NET 用のプロジェクト ファイルでは、.NET Framework とは異なる形式が使用されます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-134">Project files for .NET use a different format than .NET Framework.</span></span>
01. <span data-ttu-id="cbfe3-135">ご利用のプロジェクトで、.NET では利用できない API が使用される場合があります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-135">Your project may use an API that isn't available in .NET.</span></span>
01. <span data-ttu-id="cbfe3-136">サードパーティ製のコントロールとライブラリが .NET に移植されていなく、引き続き .NET Framework でしか使用できない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-136">3rd-party controls and libraries may not have been ported to .NET and remain only available to .NET Framework.</span></span>
01. <span data-ttu-id="cbfe3-137">ご利用のプロジェクトでは、.NET で[使用できなくなったテクノロジ](net-framework-tech-unavailable.md)が使用されます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-137">Your project uses a [technology that is no longer available](net-framework-tech-unavailable.md) in .NET.</span></span>

<span data-ttu-id="cbfe3-138">.NET ではオープンソース バージョンの Windows フォームと WPF が使用されており、.NET Framework に対する拡張機能が含まれています。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-138">.NET uses the open-source versions of Windows Forms and WPF and includes enhancements over .NET Framework.</span></span>

<span data-ttu-id="cbfe3-139">デスクトップ アプリケーションを .NET 5 に移行するチュートリアルについては、次の記事のいずれかを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-139">For tutorials on migrating your desktop application to .NET 5, see one of the following articles:</span></span>

- [<span data-ttu-id="cbfe3-140">.NET Framework WPF アプリを .NET に移行する</span><span class="sxs-lookup"><span data-stu-id="cbfe3-140">Migrate .NET Framework WPF apps to .NET</span></span>](/dotnet/desktop/wpf/migration/convert-project-from-net-framework?view=netdesktop-5.0&preserve-view=true)
- [<span data-ttu-id="cbfe3-141">.NET Framework Windows フォーム アプリを .NET に移行する</span><span class="sxs-lookup"><span data-stu-id="cbfe3-141">Migrate .NET Framework Windows Forms apps to .NET</span></span>](/dotnet/desktop/winforms/migration/?view=netdesktop-5.0&preserve-view=true)

## <a name="windows-specific-apis"></a><span data-ttu-id="cbfe3-142">Windows 固有の API</span><span class="sxs-lookup"><span data-stu-id="cbfe3-142">Windows-specific APIs</span></span>

<span data-ttu-id="cbfe3-143">アプリケーションでは、.NET でサポートされているプラットフォームで引き続きネイティブ ライブラリを P/Invoke できます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-143">Applications can still P/Invoke native libraries on platforms supported by .NET.</span></span> <span data-ttu-id="cbfe3-144">このテクノロジは、Windows に限定されていません。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-144">This technology isn't limited to Windows.</span></span> <span data-ttu-id="cbfe3-145">ただし、参照しているライブラリが _user32.dll_ や _kernel32.dll_ などの Windows 固有のものである場合、コードは Windows 上でのみ機能します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-145">However, if the library you're referencing is Windows-specific, such as a _user32.dll_ or _kernal32.dll_, then the code only works on Windows.</span></span> <span data-ttu-id="cbfe3-146">アプリを実行するプラットフォームごとに、プラットフォーム固有のバージョンを見つけるか、すべてのプラットフォームで実行できるようにコードを汎用的にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-146">For each platform you want your app to run on, you'll have to either find platform-specific versions, or make your code generic enough to run on all platforms.</span></span>

<span data-ttu-id="cbfe3-147">アプリケーションを .NET Framework から .NET に移植する場合、アプリケーションでは、.NET Framework と共に配布されるライブラリがおそらく使用されます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-147">When porting an application from .NET Framework to .NET, your application probably used a library provided distributed with the .NET Framework.</span></span> <span data-ttu-id="cbfe3-148">.NET Framework で使用できた API の多くは、Windows レジストリや GDI+ 描画モデルなどの Windows 固有のテクノロジに依存しているため、.NET に移植されていませんでした。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-148">Many APIs that were available in .NET Framework weren't ported to .NET because they relied on Windows-specific technology, such as the Windows Registry or the GDI+ drawing model.</span></span>

<span data-ttu-id="cbfe3-149">**Windows 互換機能パック** は、.NET に .NET Framework API サーフェイスの大部分を提供し、[Microsoft.Windows.Compatibility NuGet パッケージ](https://www.nuget.org/packages/Microsoft.Windows.Compatibility)を通じて提供されます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-149">The **Windows Compatibility Pack** provides a large portion of the .NET Framework API surface to .NET and is provided via the [Microsoft.Windows.Compatibility NuGet package](https://www.nuget.org/packages/Microsoft.Windows.Compatibility).</span></span>

<span data-ttu-id="cbfe3-150">詳細については、「[Windows 互換機能パックを使用してコードを .NET に移植する](windows-compat-pack.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-150">For more information, see [Use the Windows Compatibility Pack to port code to .NET](windows-compat-pack.md).</span></span>

## <a name="net-framework-compatibility-mode"></a><span data-ttu-id="cbfe3-151">.NET Framework 互換モード</span><span class="sxs-lookup"><span data-stu-id="cbfe3-151">.NET Framework compatibility mode</span></span>

<span data-ttu-id="cbfe3-152">.NET Standard 2.0 で、.NET Framework 互換モードが導入されました。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-152">The .NET Framework compatibility mode was introduced in .NET Standard 2.0.</span></span> <span data-ttu-id="cbfe3-153">この互換モードにより、.NET Standard と .NET 5+ (および .NET Core 3.1) プロジェクトが Windows 専用の .NET Framework ライブラリを参照できるようになります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-153">This compatibility mode allows .NET Standard and .NET 5+ (and .NET Core 3.1) projects to reference .NET Framework libraries on Windows-only.</span></span> <span data-ttu-id="cbfe3-154">.NET Framework ライブラリの参照はすべてのプロジェクトで機能するわけではありません (例えばライブラリで Windows Presentation Foundation (WPF) API を使用していても、多くの移植シナリオがブロック解除される場合など)。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-154">Referencing .NET Framework libraries doesn't work for all projects, such as if the library uses Windows Presentation Foundation (WPF) APIs, but it does unblock many porting scenarios.</span></span> <span data-ttu-id="cbfe3-155">詳細については、[依存関係の分析による .NET Framework から .NET へのコードの移植](third-party-deps.md#net-framework-compatibility-mode)に関する記事を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-155">For more information, see the [Analyze your dependencies to port code from .NET Framework to .NET](third-party-deps.md#net-framework-compatibility-mode).</span></span>

## <a name="cross-platform"></a><span data-ttu-id="cbfe3-156">クロスプラットフォーム</span><span class="sxs-lookup"><span data-stu-id="cbfe3-156">Cross-platform</span></span>

<span data-ttu-id="cbfe3-157">.NET (旧称 .NET Core) は、クロスプラットフォームになるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-157">.NET (formerly known as .NET Core) is designed to be cross-platform.</span></span> <span data-ttu-id="cbfe3-158">コードが Windows 固有のテクノロジに依存していない場合は、macOS、Linux、Android などの他のプラットフォームで実行することができます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-158">If your code doesn't depend on Windows-specific technologies, it may run on other platforms such as macOS, Linux, and Android.</span></span> <span data-ttu-id="cbfe3-159">これには、次のようなプロジェクト タイプが含まれます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-159">This includes project types like:</span></span>

- <span data-ttu-id="cbfe3-160">ライブラリ</span><span class="sxs-lookup"><span data-stu-id="cbfe3-160">Libraries</span></span>
- <span data-ttu-id="cbfe3-161">コンソールベースのツール</span><span class="sxs-lookup"><span data-stu-id="cbfe3-161">Console-based tools</span></span>
- <span data-ttu-id="cbfe3-162">オートメーション</span><span class="sxs-lookup"><span data-stu-id="cbfe3-162">Automation</span></span>
- <span data-ttu-id="cbfe3-163">ASP.NET サイト</span><span class="sxs-lookup"><span data-stu-id="cbfe3-163">ASP.NET sites</span></span>

<span data-ttu-id="cbfe3-164">.NET Framework は、Windows のみのコンポーネントです。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-164">.NET Framework is a Windows-only component.</span></span> <span data-ttu-id="cbfe3-165">コードで Windows フォームや Windows Presentation Foundation (WPF) などの Windows 固有のテクノロジまたは API を使用している場合でも、コードは .NET で実行できますが、他のオペレーティング システムでは実行できません。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-165">When your code uses Windows-specific technologies or APIs, such as Windows Forms and Windows Presentation Foundation (WPF), the code can still run on .NET but it won't run on other operating systems.</span></span>

<span data-ttu-id="cbfe3-166">ライブラリまたはコンソールベースのアプリケーションは、ほとんど変更せずにクロスプラットフォームで使用できる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-166">It's possible that your library or console-based application can be used cross-platform without changing much.</span></span> <span data-ttu-id="cbfe3-167">.NET に移植する場合は、これを考慮して、他のプラットフォームでアプリケーションをテストすることができます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-167">When porting to .NET, you may want to take this into consideration and test your application on other platforms.</span></span>

## <a name="the-future-of-net-standard"></a><span data-ttu-id="cbfe3-168">今後の .NET Standard</span><span class="sxs-lookup"><span data-stu-id="cbfe3-168">The future of .NET Standard</span></span>

<span data-ttu-id="cbfe3-169">[.NET Standard](https://github.com/dotnet/standard) は、複数の .NET 実装で使用できる .NET API の正式な仕様です。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-169">[.NET Standard](https://github.com/dotnet/standard) is a formal specification of .NET APIs that are available on multiple .NET implementations.</span></span> <span data-ttu-id="cbfe3-170">.NET Standard の背後にある意図は、.NET エコシステムの高度な統一性を確立することでした。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-170">The motivation behind .NET Standard was to establish greater uniformity in the .NET ecosystem.</span></span> <span data-ttu-id="cbfe3-171">.NET 5 以降では、統一性を確立するための別のアプローチが採用されており、この新しいアプローチによって、多くのシナリオで .NET Standard が不要になります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-171">Starting with .NET 5, a different approach to establishing uniformity has been adopted, and this new approach eliminates the need for .NET Standard in many scenarios.</span></span> <span data-ttu-id="cbfe3-172">詳細については、「[.NET 5 と .NET Standard](../../standard/net-standard.md#net-5-and-net-standard)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-172">For more information, see [.NET 5 and .NET Standard](../../standard/net-standard.md#net-5-and-net-standard).</span></span>

<span data-ttu-id="cbfe3-173">.NET Standard 2.0 は、.NET Framework をサポートする最後のバージョンでした。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-173">.NET Standard 2.0 was the last version to support .NET Framework.</span></span>

## <a name="tools-to-assist-porting"></a><span data-ttu-id="cbfe3-174">移植を支援するツール</span><span class="sxs-lookup"><span data-stu-id="cbfe3-174">Tools to assist porting</span></span>

<span data-ttu-id="cbfe3-175">アプリケーションを .NET Framework から .NET に手動で移植する代わりに、さまざまなツールを使用して、移行のいくつかの側面を自動化できます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-175">Instead of manually porting an application from .NET Framework to .NET, you can use different tools to help automate some aspects of the migration.</span></span> <span data-ttu-id="cbfe3-176">複雑なプロジェクトの移植は、それ自体が複雑なプロセスです。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-176">Porting a complex project is, in itself, a complex process.</span></span> <span data-ttu-id="cbfe3-177">これらのツールが、その過程で役立つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-177">These tools may help in that journey.</span></span>

<span data-ttu-id="cbfe3-178">アプリケーションの移植に役立つツールを使用する場合でも、この記事の[「移植時の考慮事項」のセクション](#considerations-when-porting)を確認してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-178">Even if you use a tool to help port your application, you should review the [Considerations when porting section](#considerations-when-porting) in this article.</span></span>

### <a name="net-upgrade-assistant"></a><span data-ttu-id="cbfe3-179">.NET Upgrade Assistant</span><span class="sxs-lookup"><span data-stu-id="cbfe3-179">.NET Upgrade Assistant</span></span>

<span data-ttu-id="cbfe3-180">[.NET Upgrade Assistant](upgrade-assistant-overview.md) は、さまざまな種類の .NET Framework アプリに対して実行できるコマンド ライン ツールです。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-180">The [.NET Upgrade Assistant](upgrade-assistant-overview.md) is a command-line tool that can be run on different kinds of .NET Framework apps.</span></span> <span data-ttu-id="cbfe3-181">これは、.NET Framework アプリの .NET 5 へのアップグレードを支援するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-181">It's designed to assist with upgrading .NET Framework apps to .NET 5.</span></span> <span data-ttu-id="cbfe3-182">このツールを実行した後、**ほとんどの場合、アプリでは移行を完遂するためにより多くの作業が必要になります**。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-182">After running the tool, **in most cases the app will require more effort to complete the migration**.</span></span> <span data-ttu-id="cbfe3-183">このツールには、移行を完遂するのを支援するアナライザーのインストールが含まれています。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-183">The tool includes the installation of analyzers that can assist with completing the migration.</span></span> <span data-ttu-id="cbfe3-184">このツールは、次の種類の .NET Framework アプリケーションで動作します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-184">This tool works on the following types of .NET Framework applications:</span></span>

- <span data-ttu-id="cbfe3-185">Windows フォーム</span><span class="sxs-lookup"><span data-stu-id="cbfe3-185">Windows Forms</span></span>
- <span data-ttu-id="cbfe3-186">WPF</span><span class="sxs-lookup"><span data-stu-id="cbfe3-186">WPF</span></span>
- <span data-ttu-id="cbfe3-187">ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="cbfe3-187">ASP.NET MVC</span></span>
- <span data-ttu-id="cbfe3-188">コンソール</span><span class="sxs-lookup"><span data-stu-id="cbfe3-188">Console</span></span>
- <span data-ttu-id="cbfe3-189">クラス ライブラリ</span><span class="sxs-lookup"><span data-stu-id="cbfe3-189">Class libraries</span></span>

<span data-ttu-id="cbfe3-190">このツールは、この記事に記載されている他のツールを使用して、移行プロセスを支援します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-190">This tool uses the other tools listed in this article and guides the migration process.</span></span> <span data-ttu-id="cbfe3-191">ツールの詳細については、「[.NET Upgrade Assistant の概要](upgrade-assistant-overview.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-191">For more information about the tool, see [Overview of the .NET Upgrade Assistant](upgrade-assistant-overview.md).</span></span>

### <a name="try-convert"></a><span data-ttu-id="cbfe3-192">try-convert</span><span class="sxs-lookup"><span data-stu-id="cbfe3-192">try-convert</span></span>

<span data-ttu-id="cbfe3-193">try-convert は、デスクトップ アプリを .NET 5 に移動するなど、プロジェクトかソリューション全体を .NET SDK に変換できる .NET グローバル ツールです。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-193">The try-convert tool is a .NET global tool that can convert a project or entire solution to the .NET SDK, including moving desktop apps to .NET 5.</span></span> <span data-ttu-id="cbfe3-194">ただし、カスタム タスク、ターゲット、インポートなどの複雑なビルド プロセスがプロジェクトに含まれている場合は、このツールをお勧めしません。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-194">However, this tool isn't recommended if your project has a complicated build process such as custom tasks, targets, or imports.</span></span>

<span data-ttu-id="cbfe3-195">詳細については、[try-convert の GitHub リポジトリ](https://github.com/dotnet/try-convert)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-195">For more information, see the [try-convert GitHub repository](https://github.com/dotnet/try-convert).</span></span>

### <a name="net-portability-analyzer"></a><span data-ttu-id="cbfe3-196">.NET Portability Analyzer</span><span class="sxs-lookup"><span data-stu-id="cbfe3-196">.NET Portability Analyzer</span></span>

<span data-ttu-id="cbfe3-197">.NET Portability Analyzer というツールがアセンブリを分析し、指定された対象の .NET プラットフォームでアプリケーションまたはライブラリを移植するために不足している .NET API の詳細なレポートを提供します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-197">The .NET Portability Analyzer is a tool that analyzes assemblies and provides a detailed report on .NET APIs that are missing for the applications or libraries to be portable on your specified targeted .NET platforms.</span></span>

<span data-ttu-id="cbfe3-198">Visual Studio で .NET Portability Analyzer を使用するには、[マーケットプレイスの拡張機能](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer)をインストールします。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-198">To use the .NET Portability Analyzer in Visual Studio, install the [extension from the marketplace](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer).</span></span>

<span data-ttu-id="cbfe3-199">詳細については、[.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) に関するページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-199">For more information, see [The .NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md).</span></span>

### <a name="net-api-analyzer"></a><span data-ttu-id="cbfe3-200">.NET API アナライザー</span><span class="sxs-lookup"><span data-stu-id="cbfe3-200">.NET API Analyzer</span></span>

<span data-ttu-id="cbfe3-201">[.NET API アナライザー](../../standard/analyzers/api-analyzer.md)は、実行時に <xref:System.PlatformNotSupportedException> をスローする API を使用しているかどうかを分析します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-201">The [.NET API Analyzer](../../standard/analyzers/api-analyzer.md) analyzes whether or not you're using an API that will throw a <xref:System.PlatformNotSupportedException> at run-time.</span></span> <span data-ttu-id="cbfe3-202">.NET Framework 4.7.2 以上から移行する場合、これは一般的ではありませんが、確認することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-202">Although this isn't common if you're moving from .NET Framework 4.7.2 or higher, it's good to check.</span></span> <span data-ttu-id="cbfe3-203">.NET で例外をスローする API の詳細については、[.NET Core で常に例外をスローする API](../compatibility/unsupported-apis.md) に関する記事を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-203">For more information about APIs that throw exceptions on .NET, see [APIs that always throw exceptions on .NET Core](../compatibility/unsupported-apis.md).</span></span>

<span data-ttu-id="cbfe3-204">API アナライザーは、プロジェクトに追加する NuGet パッケージ [Microsoft.DotNet.Analyzers.Compatibility](https://www.nuget.org/packages/Microsoft.DotNet.Analyzers.Compatibility/) として提供されています。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-204">API Analyzer comes as a NuGet package [Microsoft.DotNet.Analyzers.Compatibility](https://www.nuget.org/packages/Microsoft.DotNet.Analyzers.Compatibility/) you add to your project.</span></span>

<span data-ttu-id="cbfe3-205">詳細については、「[.NET API アナライザー](../../standard/analyzers/api-analyzer.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-205">For more information, see [.NET API analyzer](../../standard/analyzers/api-analyzer.md).</span></span>

## <a name="considerations-when-porting"></a><span data-ttu-id="cbfe3-206">移植時の考慮事項</span><span class="sxs-lookup"><span data-stu-id="cbfe3-206">Considerations when porting</span></span>

<span data-ttu-id="cbfe3-207">アプリケーションを .NET に移植する場合は、次の提案を順番に検討してください。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-207">When porting your application to .NET, consider the following suggestions in order.</span></span>

<span data-ttu-id="cbfe3-208">✔️ [.NET Upgrade Assistant](upgrade-assistant-overview.md) を使用してプロジェクトを移行することを検討します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-208">✔️ CONSIDER using the [.NET Upgrade Assistant](upgrade-assistant-overview.md) to migrate your projects.</span></span> <span data-ttu-id="cbfe3-209">このツールはプレビュー段階ですが、この記事で説明している手動の手順のほとんどは自動化されており、移行パスを続行するための開始点として最適です。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-209">Even though this tool is in preview, it automates most of the manual steps detailed in this article and gives you a great starting point for continuing your migration path.</span></span>

<span data-ttu-id="cbfe3-210">✔️ 依存関係を最初に調べることを検討します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-210">✔️ CONSIDER examining your dependencies first.</span></span> <span data-ttu-id="cbfe3-211">依存関係は、.NET 5、.NET Standard、または .NET Core を対象にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-211">Your dependencies must target .NET 5, .NET Standard, or .NET Core.</span></span>

<span data-ttu-id="cbfe3-212">✔️ NuGet の _packages.config_ ファイルを、プロジェクト ファイルの [PackageReference](/nuget/consume-packages/package-references-in-project-files) 設定に移行します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-212">✔️ DO migrate from a NuGet _packages.config_ file to [PackageReference](/nuget/consume-packages/package-references-in-project-files) settings in the project file.</span></span> <span data-ttu-id="cbfe3-213">Visual Studio を使用して [、 _package.config_ ファイルを変換します](/nuget/consume-packages/migrate-packages-config-to-package-reference#migration-steps)。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-213">Use Visual Studio to [convert the _package.config_ file](/nuget/consume-packages/migrate-packages-config-to-package-reference#migration-steps).</span></span>

<span data-ttu-id="cbfe3-214">✔️ アプリをまだ移植できない場合でも、最新のプロジェクト ファイル形式にアップグレードすることを検討します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-214">✔️ CONSIDER upgrading to the latest project file format even if you can't yet port your app.</span></span> <span data-ttu-id="cbfe3-215">.NET Framework プロジェクトでは、古いプロジェクト形式が使用されます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-215">.NET Framework projects use an outdated project format.</span></span> <span data-ttu-id="cbfe3-216">SDK スタイルのプロジェクトとして知られている最新のプロジェクト形式は、.NET Core 以降に対して作成されていますが、.NET Framework でも動作します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-216">Even though the latest project format, known as SDK-style projects, was created for .NET Core and beyond, they work with .NET Framework.</span></span> <span data-ttu-id="cbfe3-217">プロジェクト ファイルを最新の形式にすると、それを基盤として今後もアプリを移植できます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-217">Having your project file in the latest format gives you a good basis for porting your app in the future.</span></span>

<span data-ttu-id="cbfe3-218">✔️ .NET Framework プロジェクトを少なくとも .NET Framework 4.7.2 に再ターゲットします。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-218">✔️ DO retarget your .NET Framework project to at least .NET Framework 4.7.2.</span></span> <span data-ttu-id="cbfe3-219">これにより、.NET Standard が既存の API をサポートしていない場合に、最新の代替 API を使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-219">This ensures the availability of the latest API alternatives for cases where .NET Standard doesn't support existing APIs.</span></span>

<span data-ttu-id="cbfe3-220">✔️ .NET Core 3.1 ではなく、.NET 5 を対象にすることを検討します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-220">✔️ CONSIDER targeting .NET 5 instead of .NET Core 3.1.</span></span> <span data-ttu-id="cbfe3-221">.NET Core 3.1 は長期サポート (LTS) の対象になっていますが、最新は .NET 5 であり、.NET 6 はリリースされると LTS になります。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-221">While .NET Core 3.1 is under long-term support (LTS), .NET 5 is the latest and .NET 6 will be LTS when released.</span></span>

<span data-ttu-id="cbfe3-222">✔️ **Windows フォームと WPF** のプロジェクトの対象を .NET 5 とします。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-222">✔️ DO target .NET 5 for **Windows Forms and WPF** projects.</span></span> <span data-ttu-id="cbfe3-223">.NET 5 には、デスクトップ アプリの多くの機能強化が含まれています。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-223">.NET 5 contains many improvements for Desktop apps.</span></span>

<span data-ttu-id="cbfe3-224">✔️ .NET Framework プロジェクトでも使用可能なライブラリを移行している場合は、.NET Standard 2.0 を対象とすることを検討します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-224">✔️ CONSIDER targeting .NET Standard 2.0 if you're migrating a library that may also be used with .NET Framework projects.</span></span> <span data-ttu-id="cbfe3-225">また、ライブラリをマルチターゲットに設定し、.NET Framework と .NET Standard の両方をターゲットにすることもできます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-225">You can also multitarget your library, targeting both .NET Framework and .NET Standard.</span></span>

<span data-ttu-id="cbfe3-226">✔️ 移行後に API 不足のエラーが発生した場合は、[Microsoft.Windows.Compatibility NuGet パッケージ](https://www.nuget.org/packages/Microsoft.Windows.Compatibility)に参照を追加します。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-226">✔️ DO add reference to the [Microsoft.Windows.Compatibility NuGet package](https://www.nuget.org/packages/Microsoft.Windows.Compatibility) if, after migrating, you get errors of missing APIs.</span></span> <span data-ttu-id="cbfe3-227">.NET Framework API サーフェイスの大部分は、NuGet パッケージを使用して .NET で使用できます。</span><span class="sxs-lookup"><span data-stu-id="cbfe3-227">A large portion of the .NET Framework API surface is available to .NET via the NuGet package.</span></span>

## <a name="see-also"></a><span data-ttu-id="cbfe3-228">関連項目</span><span class="sxs-lookup"><span data-stu-id="cbfe3-228">See also</span></span>

- [<span data-ttu-id="cbfe3-229">.NET Upgrade Assistant の概要</span><span class="sxs-lookup"><span data-stu-id="cbfe3-229">Overview of the .NET Upgrade Assistant</span></span>](upgrade-assistant-overview.md)
- [<span data-ttu-id="cbfe3-230">ASP.NET から ASP.NET Core への移行</span><span class="sxs-lookup"><span data-stu-id="cbfe3-230">ASP.NET to ASP.NET Core migration</span></span>](/aspnet/core/migration/proper-to-2x)
- [<span data-ttu-id="cbfe3-231">.NET Framework WPF アプリを .NET に移行する</span><span class="sxs-lookup"><span data-stu-id="cbfe3-231">Migrate .NET Framework WPF apps to .NET</span></span>](/dotnet/desktop/wpf/migration/convert-project-from-net-framework?view=netdesktop-5.0&preserve-view=true)
- [<span data-ttu-id="cbfe3-232">.NET Framework Windows フォーム アプリを .NET に移行する</span><span class="sxs-lookup"><span data-stu-id="cbfe3-232">Migrate .NET Framework Windows Forms apps to .NET</span></span>](/dotnet/desktop/winforms/migration/?view=netdesktop-5.0&preserve-view=true)
- [<span data-ttu-id="cbfe3-233">.NET Framework ライブラリを .NET に移植する</span><span class="sxs-lookup"><span data-stu-id="cbfe3-233">Port .NET Framework libraries to .NET</span></span>](libraries.md)
- [<span data-ttu-id="cbfe3-234">サーバー アプリ用 .NET 5 と .NET Framework</span><span class="sxs-lookup"><span data-stu-id="cbfe3-234">.NET 5 vs. .NET Framework for server apps</span></span>](../../standard/choosing-core-framework-server.md)
